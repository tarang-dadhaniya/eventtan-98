import { Component, OnInit } from "@angular/core";
import { CommonModule } from "@angular/common";
import { Router, ActivatedRoute, NavigationEnd } from "@angular/router";
import { FormsModule } from "@angular/forms";
import { filter } from "rxjs/operators";
import {
  EventDetailSidebarComponent,
  MenuItem,
} from "../components/event-detail-sidebar";

const DASHBOARD_ICON = `<svg width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg"><path opacity="0.4" fill-rule="evenodd" clip-rule="evenodd" d="M9.11972 1.77151C8.15614 1.4095 7.09392 1.4095 6.13033 1.77151C5.5251 1.99889 4.94006 2.45532 3.51022 3.59919L1.21855 5.43253C0.895102 5.69128 0.423133 5.63884 0.164376 5.3154C-0.0943811 4.99195 -0.0419401 4.51998 0.281506 4.26122L2.57317 2.42789C2.61283 2.39616 2.65202 2.36481 2.69075 2.33381C3.96492 1.31414 4.74565 0.689359 5.6028 0.367335C6.90647 -0.122445 8.34359 -0.122445 9.64726 0.367335C10.5044 0.689359 11.2851 1.31414 12.5593 2.33381C12.598 2.3648 12.6372 2.39616 12.6769 2.42789L14.9685 4.26122C15.292 4.51998 15.3444 4.99195 15.0857 5.3154C14.8269 5.63884 14.355 5.69128 14.0315 5.43253L11.7398 3.59919C10.31 2.45532 9.72496 1.99889 9.11972 1.77151Z" fill="white"/><path fill-rule="evenodd" clip-rule="evenodd" d="M4.08565 0.281506C4.34441 0.604953 4.29197 1.07692 3.96852 1.33568L3.51019 1.70235C3.09253 2.03647 2.92421 2.17224 2.77968 2.31347C2.06537 3.01148 1.61969 3.93876 1.52086 4.93259C1.50087 5.13368 1.5 5.34993 1.5 5.88479V11.2C1.5 13.3171 3.21624 15.0334 5.33334 15.0334C5.93164 15.0334 6.41667 14.5483 6.41667 13.95V10.2833C6.41667 8.35031 7.98367 6.78331 9.91667 6.78331C11.8497 6.78331 13.4167 8.35031 13.4167 10.2833V13.95C13.4167 14.5483 13.9017 15.0334 14.5 15.0334C16.6171 15.0334 18.3333 13.3171 18.3333 11.2V5.88479C18.3333 5.34993 18.3325 5.13368 18.3125 4.93259C18.2136 3.93876 17.7679 3.01148 17.0536 2.31347C16.9091 2.17224 16.7408 2.03647 16.3231 1.70235L15.8648 1.33568C15.5413 1.07692 15.4889 0.604953 15.7477 0.281506C16.0064 -0.0419405 16.4784 -0.0943815 16.8018 0.164376L17.2748 0.541868C17.6571 0.856916 17.886 1.04452 18.0782 1.23375C19.0199 2.16224 19.5996 3.40171 19.7171 4.72041C19.7394 4.94668 19.7496 5.18893 19.7543 5.59686L19.75 5.88479V11.2C19.75 14.0997 17.3997 16.45 14.5 16.45C13.1193 16.45 11.9167 15.2473 11.9167 13.8667V10.2C11.9167 9.19579 11.087 8.38331 10.0667 8.38331C9.04634 8.38331 8.21667 9.19579 8.21667 10.2V13.8667C8.21667 15.2473 7.01401 16.45 5.63334 16.45C2.73357 16.45 0.383333 14.0997 0.383333 11.2V5.88479L0.379004 5.59686C0.383737 5.18893 0.393911 4.94668 0.416226 4.72041C0.533719 3.40171 1.11338 2.16224 2.05508 1.23375C2.24733 1.04452 2.47622 0.856916 2.85854 0.541868L3.33152 0.164376C3.65497 -0.0943815 4.12694 -0.0419405 4.38565 0.281506Z" fill="white"/></svg>`;

const EVENT_SETUP_ICON = `<svg width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg"><path opacity="0.4" fill-rule="evenodd" clip-rule="evenodd" d="M0.750001 0C0.335787 -5.96046e-08 8.19241e-07 0.335786 7.59636e-07 0.75C7.00032e-07 1.16421 0.335787 1.5 0.750001 1.5L8.08333 1.5C8.49755 1.5 8.83333 1.16421 8.83333 0.750001C8.83333 0.335787 8.49755 7.15256e-07 8.08333 7.15256e-07L0.750001 0ZM3.95 4.58333L3.91957 4.58333H3.91956C3.38541 4.58332 2.93956 4.58331 2.57533 4.61307C2.19545 4.64411 1.83879 4.71122 1.50153 4.88307C0.984081 5.14672 0.563385 5.56741 0.299733 6.08486C0.127889 6.42212 0.0607778 6.77878 0.02974 7.15866C-1.90887e-05 7.5229 -1.02672e-05 7.96874 4.02008e-07 8.5029L7.59636e-07 8.53333V13.125C7.59636e-07 13.5392 0.335787 13.875 0.750001 13.875C1.16421 13.875 1.5 13.5392 1.5 13.125V8.53333C1.5 7.9609 1.50058 7.57669 1.52476 7.28081C1.54822 6.99369 1.5901 6.85641 1.63624 6.76585C1.75608 6.53064 1.94731 6.33942 2.18251 6.21958C2.27307 6.17343 2.41036 6.13155 2.69748 6.10809C2.99336 6.08392 3.37757 6.08333 3.95 6.08333H4.88333C5.45576 6.08333 5.83998 6.08392 6.13586 6.10809C6.42298 6.13155 6.56026 6.17343 6.65082 6.21958C6.88602 6.33942 7.07725 6.53064 7.19709 6.76585C7.24324 6.85641 7.28512 6.99369 7.30858 7.28081C7.33275 7.57669 7.33333 7.96091 7.33333 8.53333V13.125C7.33333 13.5392 7.66912 13.875 8.08333 13.875C8.49755 13.875 8.83333 13.5392 8.83333 13.125V8.53333V8.50293C8.83335 7.96876 8.83335 7.5229 8.80359 7.15866C8.77256 6.77878 8.70545 6.42212 8.53361 6.08486C8.26996 5.56741 7.84926 5.14672 7.33181 4.88307C6.99455 4.71122 6.63788 4.64411 6.25801 4.61307C5.89378 4.58331 5.44793 4.58332 4.91377 4.58333H3.95Z" fill="white"/></svg>`;

const EVENT_OVERVIEW_ICON = `<svg width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg"><path opacity="0.4" fill-rule="evenodd" clip-rule="evenodd" d="M0.750001 0C0.335787 -5.96046e-08 8.19241e-07 0.335786 7.59636e-07 0.75C7.00032e-07 1.16421 0.335787 1.5 0.750001 1.5L8.08333 1.5C8.49755 1.5 8.83333 1.16421 8.83333 0.750001C8.83333 0.335787 8.49755 7.15256e-07 8.08333 7.15256e-07L0.750001 0ZM3.95 4.58333L3.91957 4.58333H3.91956C3.38541 4.58332 2.93956 4.58331 2.57533 4.61307C2.19545 4.64411 1.83879 4.71122 1.50153 4.88307C0.984081 5.14672 0.563385 5.56741 0.299733 6.08486C0.127889 6.42212 0.0607778 6.77878 0.02974 7.15866C-1.90887e-05 7.5229 -1.02672e-05 7.96874 4.02008e-07 8.5029L7.59636e-07 8.53333V13.125C7.59636e-07 13.5392 0.335787 13.875 0.750001 13.875C1.16421 13.875 1.5 13.5392 1.5 13.125V8.53333C1.5 7.9609 1.50058 7.57669 1.52476 7.28081C1.54822 6.99369 1.5901 6.85641 1.63624 6.76585C1.75608 6.53064 1.94731 6.33942 2.18251 6.21958C2.27307 6.17343 2.41036 6.13155 2.69748 6.10809C2.99336 6.08392 3.37757 6.08333 3.95 6.08333H4.88333C5.45576 6.08333 5.83998 6.08392 6.13586 6.10809C6.42298 6.13155 6.56026 6.17343 6.65082 6.21958C6.88602 6.33942 7.07725 6.53064 7.19709 6.76585C7.24324 6.85641 7.28512 6.99369 7.30858 7.28081C7.33275 7.57669 7.33333 7.96091 7.33333 8.53333V13.125C7.33333 13.5392 7.66912 13.875 8.08333 13.875C8.49755 13.875 8.83333 13.5392 8.83333 13.125V8.53333V8.50293C8.83335 7.96876 8.83335 7.5229 8.80359 7.15866C8.77256 6.77878 8.70545 6.42212 8.53361 6.08486C8.26996 5.56741 7.84926 5.14672 7.33181 4.88307C6.99455 4.71122 6.63788 4.64411 6.25801 4.61307C5.89378 4.58331 5.44793 4.58332 4.91377 4.58333H3.95Z" fill="white"/></svg>`;

@Component({
  selector: "app-event-setup",
  standalone: true,
  imports: [CommonModule, EventDetailSidebarComponent, FormsModule],
  template: `
    <div class="flex h-screen overflow-hidden bg-main-bg">
      <app-event-detail-sidebar
        [menuItems]="menuItems"
        [activeRoute]="activeRoute"
        [backButtonLabel]="backButtonLabel"
        (logoutEvent)="onLogout()"
        (backEvent)="onBackToDashboard()"
      ></app-event-detail-sidebar>

      <main class="flex-1 flex flex-col overflow-hidden">
        <header class="h-24 bg-white border-b border-[#ECECEC] px-4 lg:px-8">
          <div class="h-full flex items-center gap-4">
            <button
              class="w-11 h-11 bg-primary-blue rounded flex items-center justify-center lg:hidden hover:bg-[#0385b5] transition-colors"
            >
              <svg
                width="36"
                height="36"
                viewBox="0 0 36 36"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  fill-rule="evenodd"
                  clip-rule="evenodd"
                  d="M4.5 9C4.5 8.17158 5.17158 7.5 6 7.5H30C30.8284 7.5 31.5 8.17158 31.5 9C31.5 9.82842 30.8284 10.5 30 10.5H6C5.17158 10.5 4.5 9.82842 4.5 9ZM4.5 18C4.5 17.1716 5.17158 16.5 6 16.5H21C21.8284 16.5 22.5 17.1716 22.5 18C22.5 18.8285 21.8284 19.5 21 19.5H6C5.17158 19.5 4.5 18.8285 4.5 18ZM4.5 27C4.5 26.1716 5.17158 25.5 6 25.5H13.5C14.3284 25.5 15 26.1716 15 27C15 27.8285 14.3284 28.5 13.5 28.5H6C5.17158 28.5 4.5 27.8285 4.5 27Z"
                  fill="white"
                />
              </svg>
            </button>

            <div
              class="flex-1 flex flex-col lg:flex-row lg:items-center gap-2 lg:gap-6"
            >
              <div class="flex items-center gap-3 lg:gap-4">
                <div
                  class="w-11 h-11 bg-[#E8F4F8] rounded flex items-center justify-center flex-shrink-0"
                >
                  <svg
                    width="24"
                    height="24"
                    viewBox="0 0 24 24"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <rect
                      x="3"
                      y="5"
                      width="18"
                      height="15"
                      rx="2"
                      stroke="#009FD8"
                      stroke-width="2"
                    />
                    <path
                      d="M3 8H21"
                      stroke="#009FD8"
                      stroke-width="2"
                      stroke-linecap="round"
                    />
                    <path
                      d="M8 3V7"
                      stroke="#009FD8"
                      stroke-width="2"
                      stroke-linecap="round"
                    />
                    <path
                      d="M16 3V7"
                      stroke="#009FD8"
                      stroke-width="2"
                      stroke-linecap="round"
                    />
                  </svg>
                </div>
                <div class="flex flex-col">
                  <h1
                    class="text-lg lg:text-[22px] font-bold text-[#181C32] tracking-wide"
                  >
                    {{ eventName }}
                  </h1>
                  <p
                    class="text-sm lg:text-base text-[#707070] tracking-wide font-medium"
                  >
                    Event Setup
                  </p>
                </div>
              </div>
            </div>
          </div>
        </header>

        <div class="flex-1 overflow-auto bg-main-bg">
          <div class="px-4 lg:px-8 py-6 lg:py-8">
            <div class="max-w-[1366px] mx-auto">
              <!-- Tab Navigation -->
              <div class="flex items-center justify-center gap-0 mb-8">
                <button
                  (click)="currentTab = 'details'"
                  [class.active]="currentTab === 'details'"
                  class="tab-button relative flex items-center gap-2 px-6 md:px-10 py-2.5 bg-white border border-[#009FD8] rounded shadow-sm transition-all"
                  [ngClass]="{
                    'bg-[#009FD8] text-white': currentTab === 'details',
                    'bg-white text-[#049AD0]': currentTab !== 'details',
                  }"
                >
                  <svg
                    width="24"
                    height="24"
                    viewBox="0 0 22 22"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      d="M15.25 9C15.6642 9 16 9.3358 16 9.75C16 10.1642 15.6642 10.5 15.25 10.5H12.9502C12.3778 10.5 11.9931 10.5002 11.6973 10.5244C11.4106 10.5479 11.2732 10.5897 11.1826 10.6357C10.9475 10.7556 10.7566 10.9475 10.6367 11.1826C10.5906 11.2732 10.5479 11.4103 10.5244 11.6973C10.5002 11.9931 10.5 12.3778 10.5 12.9502V15.25C10.5 15.6642 10.1642 16 9.75 16C9.33579 16 9 15.6642 9 15.25V12.9502C9 12.4025 8.99897 11.9463 9.0293 11.5752C9.06033 11.1955 9.1281 10.8391 9.2998 10.502C9.56346 9.98452 9.98452 9.56345 10.502 9.2998C10.8391 9.12809 11.1955 9.06033 11.5752 9.0293C11.9463 8.99897 12.4025 9 12.9502 9H15.25ZM2.75 8C3.16421 8 3.5 8.33579 3.5 8.75C3.5 9.16421 3.16421 9.5 2.75 9.5H0.75C0.335786 9.5 0 9.16421 0 8.75C0 8.33579 0.335786 8 0.75 8H2.75ZM6.75 4C7.16421 4 7.5 4.33579 7.5 4.75C7.5 5.16421 7.16421 5.5 6.75 5.5H0.75C0.335786 5.5 0 5.16421 0 4.75C0 4.33579 0.335786 4 0.75 4H6.75ZM8.75 0C9.16421 0 9.5 0.335786 9.5 0.75C9.5 1.16421 9.16421 1.5 8.75 1.5H0.75C0.335786 1.5 0 1.16421 0 0.75C0 0.335786 0.335786 0 0.75 0H8.75Z"
                      [attr.fill]="
                        currentTab === 'details' ? 'white' : '#049AD0'
                      "
                    />
                    <path
                      d="M11.1504 0C12.818 -9.06349e-08 14.1143 -0.000828191 15.1523 0.0839844C16.199 0.169528 17.0495 0.345624 17.8145 0.735352C19.0845 1.3825 20.1175 2.41545 20.7646 3.68555C21.1544 4.45049 21.3305 5.30103 21.416 6.34766C21.5008 7.38571 21.5 8.68202 21.5 10.3496V13.9219C21.5 14.2508 21.5004 14.4434 21.4902 14.6309C21.4068 16.1663 20.8012 17.6278 19.7744 18.7725C19.6491 18.9121 19.5128 19.0477 19.2803 19.2803C19.0477 19.5128 18.9121 19.6491 18.7725 19.7744C17.6278 20.8012 16.1663 21.4068 14.6309 21.4902C14.4434 21.5004 14.2508 21.5 13.9219 21.5H10.3496C8.68202 21.5 7.38571 21.5008 6.34766 21.416C5.30103 21.3305 4.45049 21.1544 3.68555 20.7646C2.41545 20.1175 1.3825 19.0845 0.735352 17.8145C0.345624 17.0495 0.169528 16.199 0.0839844 15.1523C-0.000828191 14.1143 -9.06348e-08 12.818 0 11.1504V10.3496C-9.06941e-08 8.68202 -0.000828204 7.38571 0.0839844 6.34766C0.169528 5.30103 0.345624 4.45049 0.735352 3.68555C1.3825 2.41545 2.41545 1.3825 3.68555 0.735352C4.45049 0.345624 5.30103 0.169528 6.34766 0.0839844C7.38571 -0.000828204 8.68202 -9.0694e-08 10.3496 0H11.1504ZM10.3496 1.5C8.65753 1.5 7.43345 1.50047 6.4707 1.5791C5.51657 1.65706 4.8846 1.80814 4.36621 2.07227C3.37859 2.57556 2.57556 3.37859 2.07227 4.36621C1.80814 4.8846 1.65706 5.51657 1.5791 6.4707C1.50047 7.43345 1.5 8.65753 1.5 10.3496V11.1504C1.5 12.8425 1.50047 14.0665 1.5791 15.0293C1.65706 15.9834 1.80814 16.6154 2.07227 17.1338C2.57556 18.1214 3.37859 18.9244 4.36621 19.4277C4.8846 19.6919 5.51657 19.8429 6.4707 19.9209C7.43345 19.9995 8.65753 20 10.3496 20H13.9219C14.2666 20 14.4116 19.9996 14.5488 19.9922C15.7432 19.9274 16.8801 19.4569 17.7705 18.6582C17.873 18.5663 17.9755 18.4639 18.2197 18.2197C18.4639 17.9755 18.5663 17.873 18.6582 17.7705C19.4569 16.8801 19.9274 15.7432 19.9922 14.5488C19.9996 14.4116 20 14.2666 20 13.9219V10.3496C20 8.65753 19.9995 7.43345 19.9209 6.4707C19.8429 5.51657 19.6919 4.8846 19.4277 4.36621C18.9244 3.37859 18.1214 2.57556 17.1338 2.07227C16.6154 1.80814 15.9834 1.65706 15.0293 1.5791C14.0665 1.50047 12.8425 1.5 11.1504 1.5H10.3496Z"
                      [attr.fill]="
                        currentTab === 'details' ? 'white' : '#049AD0'
                      "
                    />
                  </svg>
                  <span
                    class="text-sm md:text-base font-medium md:font-semibold whitespace-nowrap"
                    >Event Details</span
                  >
                </button>

                <div class="h-px w-16 md:w-28 bg-[#049AD0]"></div>

                <button
                  (click)="currentTab = 'features'"
                  [class.active]="currentTab === 'features'"
                  class="tab-button relative flex items-center gap-2 px-6 md:px-10 py-2.5 bg-white border border-[#049AD0] rounded shadow-sm transition-all"
                  [ngClass]="{
                    'bg-[#009FD8] text-white': currentTab === 'features',
                    'bg-white text-[#049AD0]': currentTab !== 'features',
                  }"
                >
                  <svg
                    width="24"
                    height="24"
                    viewBox="0 0 22 22"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      d="M15.25 9C15.6642 9 16 9.3358 16 9.75C16 10.1642 15.6642 10.5 15.25 10.5H12.9502C12.3778 10.5 11.9931 10.5002 11.6973 10.5244C11.4106 10.5479 11.2732 10.5897 11.1826 10.6357C10.9475 10.7556 10.7566 10.9475 10.6367 11.1826C10.5906 11.2732 10.5479 11.4103 10.5244 11.6973C10.5002 11.9931 10.5 12.3778 10.5 12.9502V15.25C10.5 15.6642 10.1642 16 9.75 16C9.33579 16 9 15.6642 9 15.25V12.9502C9 12.4025 8.99897 11.9463 9.0293 11.5752C9.06033 11.1955 9.1281 10.8391 9.2998 10.502C9.56346 9.98452 9.98452 9.56345 10.502 9.2998C10.8391 9.12809 11.1955 9.06033 11.5752 9.0293C11.9463 8.99897 12.4025 9 12.9502 9H15.25ZM2.75 8C3.16421 8 3.5 8.33579 3.5 8.75C3.5 9.16421 3.16421 9.5 2.75 9.5H0.75C0.335786 9.5 0 9.16421 0 8.75C0 8.33579 0.335786 8 0.75 8H2.75ZM6.75 4C7.16421 4 7.5 4.33579 7.5 4.75C7.5 5.16421 7.16421 5.5 6.75 5.5H0.75C0.335786 5.5 0 5.16421 0 4.75C0 4.33579 0.335786 4 0.75 4H6.75ZM8.75 0C9.16421 0 9.5 0.335786 9.5 0.75C9.5 1.16421 9.16421 1.5 8.75 1.5H0.75C0.335786 1.5 0 1.16421 0 0.75C0 0.335786 0.335786 0 0.75 0H8.75Z"
                      [attr.fill]="
                        currentTab === 'features' ? 'white' : '#049AD0'
                      "
                    />
                    <path
                      d="M11.1504 0C12.818 -9.06349e-08 14.1143 -0.000828191 15.1523 0.0839844C16.199 0.169528 17.0495 0.345624 17.8145 0.735352C19.0845 1.3825 20.1175 2.41545 20.7646 3.68555C21.1544 4.45049 21.3305 5.30103 21.416 6.34766C21.5008 7.38571 21.5 8.68202 21.5 10.3496V13.9219C21.5 14.2508 21.5004 14.4434 21.4902 14.6309C21.4068 16.1663 20.8012 17.6278 19.7744 18.7725C19.6491 18.9121 19.5128 19.0477 19.2803 19.2803C19.0477 19.5128 18.9121 19.6491 18.7725 19.7744C17.6278 20.8012 16.1663 21.4068 14.6309 21.4902C14.4434 21.5004 14.2508 21.5 13.9219 21.5H10.3496C8.68202 21.5 7.38571 21.5008 6.34766 21.416C5.30103 21.3305 4.45049 21.1544 3.68555 20.7646C2.41545 20.1175 1.3825 19.0845 0.735352 17.8145C0.345624 17.0495 0.169528 16.199 0.0839844 15.1523C-0.000828191 14.1143 -9.06348e-08 12.818 0 11.1504V10.3496C-9.06941e-08 8.68202 -0.000828204 7.38571 0.0839844 6.34766C0.169528 5.30103 0.345624 4.45049 0.735352 3.68555C1.3825 2.41545 2.41545 1.3825 3.68555 0.735352C4.45049 0.345624 5.30103 0.169528 6.34766 0.0839844C7.38571 -0.000828204 8.68202 -9.0694e-08 10.3496 0H11.1504ZM10.3496 1.5C8.65753 1.5 7.43345 1.50047 6.4707 1.5791C5.51657 1.65706 4.8846 1.80814 4.36621 2.07227C3.37859 2.57556 2.57556 3.37859 2.07227 4.36621C1.80814 4.8846 1.65706 5.51657 1.5791 6.4707C1.50047 7.43345 1.5 8.65753 1.5 10.3496V11.1504C1.5 12.8425 1.50047 14.0665 1.5791 15.0293C1.65706 15.9834 1.80814 16.6154 2.07227 17.1338C2.57556 18.1214 3.37859 18.9244 4.36621 19.4277C4.8846 19.6919 5.51657 19.8429 6.4707 19.9209C7.43345 19.9995 8.65753 20 10.3496 20H13.9219C14.2666 20 14.4116 19.9996 14.5488 19.9922C15.7432 19.9274 16.8801 19.4569 17.7705 18.6582C17.873 18.5663 17.9755 18.4639 18.2197 18.2197C18.4639 17.9755 18.5663 17.873 18.6582 17.7705C19.4569 16.8801 19.9274 15.7432 19.9922 14.5488C19.9996 14.4116 20 14.2666 20 13.9219V10.3496C20 8.65753 19.9995 7.43345 19.9209 6.4707C19.8429 5.51657 19.6919 4.8846 19.4277 4.36621C18.9244 3.37859 18.1214 2.57556 17.1338 2.07227C16.6154 1.80814 15.9834 1.65706 15.0293 1.5791C14.0665 1.50047 12.8425 1.5 11.1504 1.5H10.3496Z"
                      [attr.fill]="
                        currentTab === 'features' ? 'white' : '#049AD0'
                      "
                    />
                  </svg>
                  <span
                    class="text-sm md:text-base font-medium md:font-semibold whitespace-nowrap"
                    >Event Features</span
                  >
                </button>

                <div class="h-px w-16 md:w-28 bg-[#CED4DA]"></div>

                <button
                  (click)="currentTab = 'content'"
                  [class.active]="currentTab === 'content'"
                  class="tab-button relative flex items-center gap-2 px-6 md:px-10 py-2.5 bg-white border border-[#049AD0] rounded shadow-sm transition-all"
                  [ngClass]="{
                    'bg-[#009FD8] text-white': currentTab === 'content',
                    'bg-white text-[#049AD0]': currentTab !== 'content',
                  }"
                >
                  <svg
                    width="24"
                    height="24"
                    viewBox="0 0 22 22"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      d="M15.25 9C15.6642 9 16 9.3358 16 9.75C16 10.1642 15.6642 10.5 15.25 10.5H12.9502C12.3778 10.5 11.9931 10.5002 11.6973 10.5244C11.4106 10.5479 11.2732 10.5897 11.1826 10.6357C10.9475 10.7556 10.7566 10.9475 10.6367 11.1826C10.5906 11.2732 10.5479 11.4103 10.5244 11.6973C10.5002 11.9931 10.5 12.3778 10.5 12.9502V15.25C10.5 15.6642 10.1642 16 9.75 16C9.33579 16 9 15.6642 9 15.25V12.9502C9 12.4025 8.99897 11.9463 9.0293 11.5752C9.06033 11.1955 9.1281 10.8391 9.2998 10.502C9.56346 9.98452 9.98452 9.56345 10.502 9.2998C10.8391 9.12809 11.1955 9.06033 11.5752 9.0293C11.9463 8.99897 12.4025 9 12.9502 9H15.25ZM2.75 8C3.16421 8 3.5 8.33579 3.5 8.75C3.5 9.16421 3.16421 9.5 2.75 9.5H0.75C0.335786 9.5 0 9.16421 0 8.75C0 8.33579 0.335786 8 0.75 8H2.75ZM6.75 4C7.16421 4 7.5 4.33579 7.5 4.75C7.5 5.16421 7.16421 5.5 6.75 5.5H0.75C0.335786 5.5 0 5.16421 0 4.75C0 4.33579 0.335786 4 0.75 4H6.75ZM8.75 0C9.16421 0 9.5 0.335786 9.5 0.75C9.5 1.16421 9.16421 1.5 8.75 1.5H0.75C0.335786 1.5 0 1.16421 0 0.75C0 0.335786 0.335786 0 0.75 0H8.75Z"
                      [attr.fill]="
                        currentTab === 'content' ? 'white' : '#049AD0'
                      "
                    />
                    <path
                      d="M11.1504 0C12.818 -9.06349e-08 14.1143 -0.000828191 15.1523 0.0839844C16.199 0.169528 17.0495 0.345624 17.8145 0.735352C19.0845 1.3825 20.1175 2.41545 20.7646 3.68555C21.1544 4.45049 21.3305 5.30103 21.416 6.34766C21.5008 7.38571 21.5 8.68202 21.5 10.3496V13.9219C21.5 14.2508 21.5004 14.4434 21.4902 14.6309C21.4068 16.1663 20.8012 17.6278 19.7744 18.7725C19.6491 18.9121 19.5128 19.0477 19.2803 19.2803C19.0477 19.5128 18.9121 19.6491 18.7725 19.7744C17.6278 20.8012 16.1663 21.4068 14.6309 21.4902C14.4434 21.5004 14.2508 21.5 13.9219 21.5H10.3496C8.68202 21.5 7.38571 21.5008 6.34766 21.416C5.30103 21.3305 4.45049 21.1544 3.68555 20.7646C2.41545 20.1175 1.3825 19.0845 0.735352 17.8145C0.345624 17.0495 0.169528 16.199 0.0839844 15.1523C-0.000828191 14.1143 -9.06348e-08 12.818 0 11.1504V10.3496C-9.06941e-08 8.68202 -0.000828204 7.38571 0.0839844 6.34766C0.169528 5.30103 0.345624 4.45049 0.735352 3.68555C1.3825 2.41545 2.41545 1.3825 3.68555 0.735352C4.45049 0.345624 5.30103 0.169528 6.34766 0.0839844C7.38571 -0.000828204 8.68202 -9.0694e-08 10.3496 0H11.1504ZM10.3496 1.5C8.65753 1.5 7.43345 1.50047 6.4707 1.5791C5.51657 1.65706 4.8846 1.80814 4.36621 2.07227C3.37859 2.57556 2.57556 3.37859 2.07227 4.36621C1.80814 4.8846 1.65706 5.51657 1.5791 6.4707C1.50047 7.43345 1.5 8.65753 1.5 10.3496V11.1504C1.5 12.8425 1.50047 14.0665 1.5791 15.0293C1.65706 15.9834 1.80814 16.6154 2.07227 17.1338C2.57556 18.1214 3.37859 18.9244 4.36621 19.4277C4.8846 19.6919 5.51657 19.8429 6.4707 19.9209C7.43345 19.9995 8.65753 20 10.3496 20H13.9219C14.2666 20 14.4116 19.9996 14.5488 19.9922C15.7432 19.9274 16.8801 19.4569 17.7705 18.6582C17.873 18.5663 17.9755 18.4639 18.2197 18.2197C18.4639 17.9755 18.5663 17.873 18.6582 17.7705C19.4569 16.8801 19.9274 15.7432 19.9922 14.5488C19.9996 14.4116 20 14.2666 20 13.9219V10.3496C20 8.65753 19.9995 7.43345 19.9209 6.4707C19.8429 5.51657 19.6919 4.8846 19.4277 4.36621C18.9244 3.37859 18.1214 2.57556 17.1338 2.07227C16.6154 1.80814 15.9834 1.65706 15.0293 1.5791C14.0665 1.50047 12.8425 1.5 11.1504 1.5H10.3496Z"
                      [attr.fill]="
                        currentTab === 'content' ? 'white' : '#049AD0'
                      "
                    />
                  </svg>
                  <span
                    class="text-sm md:text-base font-medium md:font-semibold whitespace-nowrap"
                    >Features Content</span
                  >
                </button>
              </div>

              <!-- Event Details Tab Content -->
              <div
                *ngIf="currentTab === 'details'"
                class="bg-white rounded shadow-md border border-[#E9E9E9] p-4 md:p-6 lg:p-8"
              >
                <!-- Logo and Banner Section -->
                <div
                  class="grid grid-cols-1 lg:grid-cols-[1fr_2.5fr] gap-4 lg:gap-6 mb-6"
                >
                  <!-- Logo Upload -->
                  <div class="flex flex-col">
                    <label class="text-base font-medium text-[#878A99] mb-2"
                      >Logo</label
                    >
                    <div
                      class="w-full h-48 md:h-56 lg:h-64 border border-[#CED4DA] rounded flex items-center justify-center bg-white cursor-pointer hover:bg-gray-50 transition-colors"
                      (click)="logoInput.click()"
                    >
                      <img
                        *ngIf="logoPreview"
                        [src]="logoPreview"
                        alt="Logo preview"
                        class="w-full h-full object-contain rounded"
                      />
                      <div
                        *ngIf="!logoPreview"
                        class="flex flex-col items-center justify-center text-gray-400"
                      >
                        <svg
                          width="48"
                          height="48"
                          viewBox="0 0 24 24"
                          fill="none"
                          xmlns="http://www.w3.org/2000/svg"
                          class="mb-2"
                        >
                          <path
                            d="M12 5V19M5 12H19"
                            stroke="currentColor"
                            stroke-width="2"
                            stroke-linecap="round"
                          />
                        </svg>
                        <span class="text-sm">Click to upload logo</span>
                      </div>
                    </div>
                    <input
                      #logoInput
                      type="file"
                      accept="image/*"
                      class="hidden"
                      (change)="onLogoChange($event)"
                    />
                  </div>

                  <!-- Banner Upload -->
                  <div class="flex flex-col">
                    <label class="text-base font-medium text-[#878A99] mb-2"
                      >Banner</label
                    >
                    <div
                      class="w-full h-48 md:h-56 lg:h-64 border border-[#CED4DA] rounded flex items-center justify-center bg-white cursor-pointer hover:bg-gray-50 transition-colors overflow-hidden"
                      (click)="bannerInput.click()"
                    >
                      <img
                        *ngIf="bannerPreview"
                        [src]="bannerPreview"
                        alt="Banner preview"
                        class="w-full h-full object-cover rounded"
                      />
                      <div
                        *ngIf="!bannerPreview"
                        class="flex flex-col items-center justify-center text-gray-400"
                      >
                        <svg
                          width="48"
                          height="48"
                          viewBox="0 0 24 24"
                          fill="none"
                          xmlns="http://www.w3.org/2000/svg"
                          class="mb-2"
                        >
                          <path
                            d="M12 5V19M5 12H19"
                            stroke="currentColor"
                            stroke-width="2"
                            stroke-linecap="round"
                          />
                        </svg>
                        <span class="text-sm">Click to upload banner</span>
                      </div>
                    </div>
                    <input
                      #bannerInput
                      type="file"
                      accept="image/*"
                      class="hidden"
                      (change)="onBannerChange($event)"
                    />
                  </div>
                </div>

                <!-- Event Name Input -->
                <div class="flex flex-col mb-6">
                  <label class="text-base font-medium text-[#878A99] mb-2"
                    >Name of the Event</label
                  >
                  <input
                    type="text"
                    [(ngModel)]="formData.eventName"
                    placeholder="14th Engimach"
                    class="w-full h-10 px-4 border border-[#CED4DA] rounded text-base text-[#686868] placeholder-[#686868] focus:outline-none focus:border-[#049AD0] transition-colors"
                  />
                </div>

                <!-- Welcome Message -->
                <div class="flex flex-col mb-6">
                  <label class="text-base font-medium text-[#878A99] mb-2"
                    >Welcome Message</label
                  >
                  <div class="border border-[#CED4DA] rounded">
                    <!-- Toolbar -->
                    <div
                      class="flex flex-wrap items-center gap-1 p-2 border-b border-[#CED4DA] bg-white rounded-t"
                    >
                      <!-- Undo/Redo -->
                      <div
                        class="flex items-center gap-0.5 border-r border-[#E9ECEF] pr-2"
                      >
                        <button
                          type="button"
                          class="p-1 hover:bg-gray-100 rounded transition-colors"
                          title="Undo"
                        >
                          <svg
                            width="20"
                            height="20"
                            viewBox="0 0 20 20"
                            fill="none"
                            xmlns="http://www.w3.org/2000/svg"
                          >
                            <path
                              d="M12.5 6.25H4.88438L7.12625 4.00875L6.25 3.125L2.5 6.875L6.25 10.625L7.12625 9.74063L4.88625 7.5H12.5C13.4946 7.5 14.4484 7.89509 15.1517 8.59835C15.8549 9.30161 16.25 10.2554 16.25 11.25C16.25 12.2446 15.8549 13.1984 15.1517 13.9017C14.4484 14.6049 13.4946 15 12.5 15H7.5V16.25H12.5C13.8261 16.25 15.0979 15.7232 16.0355 14.7855C16.9732 13.8479 17.5 12.5761 17.5 11.25C17.5 9.92392 16.9732 8.65215 16.0355 7.71447C15.0979 6.77678 13.8261 6.25 12.5 6.25Z"
                              fill="#212529"
                            />
                          </svg>
                        </button>
                        <button
                          type="button"
                          class="p-1 hover:bg-gray-100 rounded transition-colors"
                          title="Redo"
                        >
                          <svg
                            width="20"
                            height="20"
                            viewBox="0 0 20 20"
                            fill="none"
                            xmlns="http://www.w3.org/2000/svg"
                          >
                            <path
                              d="M7.5 6.25H15.1156L12.8737 4.00875L13.75 3.125L17.5 6.875L13.75 10.625L12.8737 9.74063L15.1137 7.5H7.5C6.50544 7.5 5.55161 7.89509 4.84835 8.59835C4.14509 9.30161 3.75 10.2554 3.75 11.25C3.75 12.2446 4.14509 13.1984 4.84835 13.9017C5.55161 14.6049 6.50544 15 7.5 15H12.5V16.25H7.5C6.17392 16.25 4.90215 15.7232 3.96447 14.7855C3.02678 13.8479 2.5 12.5761 2.5 11.25C2.5 9.92392 3.02678 8.65215 3.96447 7.71447C4.90215 6.77678 6.17392 6.25 7.5 6.25V6.25Z"
                              fill="#212529"
                            />
                          </svg>
                        </button>
                      </div>

                      <!-- Text Style -->
                      <div
                        class="flex items-center border-r border-[#E9ECEF] pr-2"
                      >
                        <button
                          type="button"
                          class="flex items-center gap-1 px-2 py-1 hover:bg-gray-100 rounded text-sm text-[#212529]"
                        >
                          <span>Normal text</span>
                          <svg
                            width="16"
                            height="16"
                            viewBox="0 0 16 16"
                            fill="none"
                            xmlns="http://www.w3.org/2000/svg"
                          >
                            <path
                              d="M8 11L3 6.00005L3.7 5.30005L8 9.60005L12.3 5.30005L13 6.00005L8 11Z"
                              fill="#212529"
                            />
                          </svg>
                        </button>
                      </div>

                      <!-- Text Formatting -->
                      <div
                        class="flex items-center gap-0.5 border-r border-[#E9ECEF] pr-2"
                      >
                        <button
                          type="button"
                          class="p-1 hover:bg-gray-100 rounded transition-colors"
                          title="Bold"
                        >
                          <svg
                            width="20"
                            height="20"
                            viewBox="0 0 20 20"
                            fill="none"
                            xmlns="http://www.w3.org/2000/svg"
                          >
                            <path
                              d="M11.4062 15.625H5.625V4.375H10.9375C11.5639 4.37504 12.1771 4.55435 12.7048 4.89174C13.2325 5.22914 13.6526 5.71052 13.9155 6.27903C14.1784 6.84754 14.2731 7.47942 14.1884 8.10001C14.1037 8.72061 13.8431 9.30399 13.4375 9.78125C13.9673 10.205 14.3528 10.7825 14.5408 11.4344C14.7289 12.0862 14.7102 12.7803 14.4875 13.4211C14.2647 14.0619 13.8488 14.6179 13.297 15.0126C12.7452 15.4073 12.0847 15.6213 11.4062 15.625ZM7.5 13.75H11.3937C11.5784 13.75 11.7613 13.7136 11.9319 13.643C12.1025 13.5723 12.2575 13.4687 12.3881 13.3381C12.5187 13.2075 12.6223 13.0525 12.693 12.8819C12.7636 12.7113 12.8 12.5284 12.8 12.3438C12.8 12.1591 12.7636 11.9762 12.693 11.8056C12.6223 11.635 12.5187 11.48 12.3881 11.3494C12.2575 11.2188 12.1025 11.1152 11.9319 11.0445C11.7613 10.9739 11.5784 10.9375 11.3937 10.9375H7.5V13.75ZM7.5 9.0625H10.9375C11.1222 9.0625 11.305 9.02613 11.4756 8.95546C11.6463 8.88478 11.8013 8.7812 11.9319 8.65062C12.0625 8.52004 12.166 8.36501 12.2367 8.1944C12.3074 8.02378 12.3438 7.84092 12.3438 7.65625C12.3438 7.47158 12.3074 7.28872 12.2367 7.1181C12.166 6.94749 12.0625 6.79246 11.9319 6.66188C11.8013 6.5313 11.6463 6.42772 11.4756 6.35704C11.305 6.28637 11.1222 6.25 10.9375 6.25H7.5V9.0625Z"
                              fill="#212529"
                            />
                          </svg>
                        </button>
                        <button
                          type="button"
                          class="p-1 hover:bg-gray-100 rounded transition-colors"
                          title="Italic"
                        >
                          <svg
                            width="20"
                            height="20"
                            viewBox="0 0 20 20"
                            fill="none"
                            xmlns="http://www.w3.org/2000/svg"
                          >
                            <path
                              d="M15.625 5.625V4.375H7.5V5.625H10.7125L7.98125 14.375H4.375V15.625H12.5V14.375H9.2875L12.0187 5.625H15.625Z"
                              fill="#212529"
                            />
                          </svg>
                        </button>
                        <button
                          type="button"
                          class="p-1 hover:bg-gray-100 rounded transition-colors"
                          title="Underline"
                        >
                          <svg
                            width="20"
                            height="20"
                            viewBox="0 0 20 20"
                            fill="none"
                            xmlns="http://www.w3.org/2000/svg"
                          >
                            <path
                              d="M2.5 16.25H17.5V17.5H2.5V16.25ZM10 14.375C8.83968 14.375 7.72688 13.9141 6.90641 13.0936C6.08594 12.2731 5.625 11.1603 5.625 10V3.125H6.875V10C6.875 10.8288 7.20424 11.6237 7.79029 12.2097C8.37634 12.7958 9.1712 13.125 10 13.125C10.8288 13.125 11.6237 12.7958 12.2097 12.2097C12.7958 11.6237 13.125 10.8288 13.125 10V3.125H14.375V10C14.375 11.1603 13.9141 12.2731 13.0936 13.0936C12.2731 13.9141 11.1603 14.375 10 14.375V14.375Z"
                              fill="#212529"
                            />
                          </svg>
                        </button>
                        <button
                          type="button"
                          class="p-1 hover:bg-gray-100 rounded transition-colors"
                          title="Strikethrough"
                        >
                          <svg
                            width="20"
                            height="20"
                            viewBox="0 0 20 20"
                            fill="none"
                            xmlns="http://www.w3.org/2000/svg"
                          >
                            <path
                              d="M17.5 9.37489H11.2225C10.945 9.30027 10.6662 9.23047 10.3863 9.16552C8.63125 8.75052 7.63875 8.44677 7.63875 7.02614C7.6245 6.7809 7.66081 6.53535 7.74542 6.30473C7.83004 6.07411 7.96115 5.86335 8.13062 5.68552C8.6615 5.24896 9.32644 5.0084 10.0137 5.00427C11.7825 4.96052 12.5981 5.56052 13.265 6.47302L14.2744 5.73552C13.8019 5.05699 13.1578 4.51605 12.4078 4.16796C11.6578 3.81987 10.8288 3.67711 10.0056 3.75427C8.99439 3.76072 8.01887 4.12898 7.25563 4.79239C6.96634 5.08583 6.74024 5.43541 6.59125 5.81959C6.44227 6.20377 6.37356 6.61439 6.38937 7.02614C6.36197 7.4767 6.4466 7.92702 6.63572 8.33688C6.82483 8.74674 7.11254 9.10337 7.47312 9.37489H2.5V10.6249H11.0325C12.2619 10.9811 12.9969 11.4449 13.0156 12.7236C13.0359 12.9968 12.9985 13.2712 12.9056 13.5289C12.8128 13.7866 12.6667 14.0218 12.4769 14.2193C11.8155 14.7406 10.9938 15.0165 10.1519 14.9999C9.52345 14.9817 8.90738 14.8208 8.35029 14.5294C7.7932 14.2381 7.30966 13.8238 6.93625 13.318L5.97812 14.1205C6.46358 14.7675 7.08994 15.2954 7.80972 15.6643C8.52951 16.0333 9.32384 16.2335 10.1325 16.2499H10.195C11.3492 16.2632 12.4695 15.8595 13.35 15.113C13.6625 14.7979 13.9054 14.4208 14.0632 14.006C14.2209 13.5913 14.2898 13.148 14.2656 12.7049C14.289 11.9469 14.0332 11.2068 13.5469 10.6249H17.5V9.37489Z"
                              fill="#212529"
                            />
                          </svg>
                        </button>
                      </div>

                      <!-- Lists -->
                      <div
                        class="flex items-center gap-0.5 border-r border-[#E9ECEF] pr-2"
                      >
                        <button
                          type="button"
                          class="p-1 hover:bg-gray-100 rounded transition-colors"
                          title="Bulleted List"
                        >
                          <svg
                            width="20"
                            height="20"
                            viewBox="0 0 20 20"
                            fill="none"
                            xmlns="http://www.w3.org/2000/svg"
                          >
                            <path
                              d="M4.375 7.5C5.41053 7.5 6.25 6.66053 6.25 5.625C6.25 4.58947 5.41053 3.75 4.375 3.75C3.33947 3.75 2.5 4.58947 2.5 5.625C2.5 6.66053 3.33947 7.5 4.375 7.5Z"
                              fill="#212529"
                            />
                            <path
                              d="M4.375 16.25C5.41053 16.25 6.25 15.4105 6.25 14.375C6.25 13.3395 5.41053 12.5 4.375 12.5C3.33947 12.5 2.5 13.3395 2.5 14.375C2.5 15.4105 3.33947 16.25 4.375 16.25Z"
                              fill="#212529"
                            />
                            <path
                              d="M10 13.75H18.75V15H10V13.75ZM10 5H18.75V6.25H10V5Z"
                              fill="#212529"
                            />
                          </svg>
                        </button>
                        <button
                          type="button"
                          class="p-1 hover:bg-gray-100 rounded transition-colors"
                          title="Numbered List"
                        >
                          <svg
                            width="20"
                            height="20"
                            viewBox="0 0 20 20"
                            fill="none"
                            xmlns="http://www.w3.org/2000/svg"
                          >
                            <path
                              d="M10 13.75H18.75V15H10V13.75ZM10 5H18.75V6.25H10V5ZM5 7.5V2.5H3.75V3.125H2.5V4.375H3.75V7.5H2.5V8.75H6.25V7.5H5ZM6.25 17.5H2.5V15C2.5 14.6685 2.6317 14.3505 2.86612 14.1161C3.10054 13.8817 3.41848 13.75 3.75 13.75H5V12.5H2.5V11.25H5C5.33152 11.25 5.64946 11.3817 5.88388 11.6161C6.1183 11.8505 6.25 12.1685 6.25 12.5V13.75C6.25 14.0815 6.1183 14.3995 5.88388 14.6339C5.64946 14.8683 5.33152 15 5 15H3.75V16.25H6.25V17.5Z"
                              fill="#212529"
                            />
                          </svg>
                        </button>
                      </div>

                      <!-- Additional Options -->
                      <div class="flex items-center gap-0.5">
                        <button
                          type="button"
                          class="p-1 hover:bg-gray-100 rounded transition-colors"
                          title="Insert Link"
                        >
                          <svg
                            width="20"
                            height="20"
                            viewBox="0 0 20 20"
                            fill="none"
                            xmlns="http://www.w3.org/2000/svg"
                          >
                            <path
                              d="M18.2813 4.22503C17.9329 3.87543 17.5189 3.59804 17.0631 3.40877C16.6073 3.2195 16.1186 3.12207 15.625 3.12207C15.1315 3.12207 14.6428 3.2195 14.187 3.40877C13.7312 3.59804 13.3172 3.87543 12.9688 4.22503L13.8563 5.11253C14.089 4.87984 14.3652 4.69526 14.6692 4.56934C14.9733 4.44341 15.2991 4.37859 15.6282 4.37859C15.9572 4.37859 16.2831 4.44341 16.5871 4.56934C16.8911 4.69526 17.1674 4.87984 17.4 5.11253C17.6327 5.34521 17.8173 5.62145 17.9432 5.92547C18.0692 6.22949 18.134 6.55533 18.134 6.8844C18.134 7.21347 18.0692 7.53931 17.9432 7.84333C17.8173 8.14735 17.6327 8.42359 17.4 8.65628L12.4 13.6563C11.9309 14.1262 11.2944 14.3905 10.6304 14.3911C9.96638 14.3917 9.32935 14.1285 8.85942 13.6594C8.38949 13.1903 8.12515 12.5537 8.12457 11.8897C8.12398 11.2257 8.38719 10.5887 8.85629 10.1188L9.73754 9.23128L8.85629 8.34378L7.96879 9.23128C7.61919 9.57966 7.3418 9.99364 7.15253 10.4495C6.96326 10.9053 6.86583 11.394 6.86583 11.8875C6.86583 12.3811 6.96326 12.8698 7.15253 13.3256C7.3418 13.7814 7.61919 14.1954 7.96879 14.5438C8.67597 15.2419 9.63134 15.6308 10.625 15.625C11.1205 15.6271 11.6114 15.5309 12.0695 15.3421C12.5276 15.1533 12.9437 14.8756 13.2938 14.525L18.2938 9.52503C18.9944 8.82025 19.3866 7.86619 19.3842 6.87244C19.3819 5.87869 18.9852 4.9265 18.2813 4.22503Z"
                              fill="#212529"
                            />
                            <path
                              d="M2.61879 15.5125C2.38541 15.2802 2.20022 15.0041 2.07386 14.7C1.94749 14.396 1.88244 14.0699 1.88244 13.7407C1.88244 13.4114 1.94749 13.0853 2.07386 12.7813C2.20022 12.4772 2.38541 12.2011 2.61879 11.9688L7.61879 6.96878C7.85109 6.7354 8.1272 6.55021 8.43127 6.42384C8.73534 6.29748 9.06138 6.23243 9.39067 6.23243C9.71995 6.23243 10.046 6.29748 10.3501 6.42384C10.6541 6.55021 10.9302 6.7354 11.1625 6.96878C11.3944 7.2029 11.577 7.48119 11.6994 7.78716C11.8218 8.09313 11.8815 8.42055 11.875 8.75003C11.8769 9.08053 11.8133 9.40813 11.6878 9.71388C11.5623 10.0196 11.3774 10.2974 11.1438 10.5313L9.81879 11.875L10.7063 12.7625L12.0313 11.4375C12.7366 10.7322 13.1328 9.77561 13.1328 8.77815C13.1328 7.78069 12.7366 6.82409 12.0313 6.11878C11.326 5.41347 10.3694 5.01723 9.37192 5.01723C8.37446 5.01723 7.41785 5.41347 6.71254 6.11878L1.71254 11.1188C1.362 11.4673 1.08382 11.8816 0.893994 12.338C0.704168 12.7944 0.606445 13.2839 0.606445 13.7782C0.606445 14.2725 0.704168 14.7619 0.893994 15.2183C1.08382 15.6747 1.362 16.089 1.71254 16.4375C2.42431 17.1303 3.38185 17.5124 4.37504 17.5C5.37698 17.501 6.33862 17.1055 7.05004 16.4L6.16254 15.5125C5.93025 15.7459 5.65413 15.9311 5.35006 16.0575C5.04599 16.1838 4.71995 16.2489 4.39067 16.2489C4.06138 16.2489 3.73534 16.1838 3.43127 16.0575C3.1272 15.9311 2.85109 15.7459 2.61879 15.5125Z"
                              fill="#212529"
                            />
                          </svg>
                        </button>
                        <button
                          type="button"
                          class="p-1 hover:bg-gray-100 rounded transition-colors"
                          title="Insert Image"
                        >
                          <svg
                            width="20"
                            height="20"
                            viewBox="0 0 20 20"
                            fill="none"
                            xmlns="http://www.w3.org/2000/svg"
                          >
                            <path
                              d="M11.875 8.75C12.2458 8.75 12.6084 8.64003 12.9167 8.43401C13.225 8.22798 13.4654 7.93514 13.6073 7.59253C13.7492 7.24992 13.7863 6.87292 13.714 6.50921C13.6416 6.14549 13.463 5.8114 13.2008 5.54917C12.9386 5.28695 12.6045 5.10837 12.2408 5.03603C11.8771 4.96368 11.5001 5.00081 11.1575 5.14273C10.8149 5.28464 10.522 5.52496 10.316 5.83331C10.11 6.14165 10 6.50416 10 6.875C10 7.37228 10.1975 7.84919 10.5492 8.20083C10.9008 8.55246 11.3777 8.75 11.875 8.75ZM11.875 6.25C11.9986 6.25 12.1195 6.28666 12.2222 6.35533C12.325 6.42401 12.4051 6.52162 12.4524 6.63582C12.4997 6.75003 12.5121 6.87569 12.488 6.99693C12.4639 7.11817 12.4044 7.22953 12.3169 7.31694C12.2295 7.40435 12.1182 7.46388 11.9969 7.48799C11.8757 7.51211 11.75 7.49973 11.6358 7.45242C11.5216 7.40512 11.424 7.32501 11.3553 7.22223C11.2867 7.11945 11.25 6.99861 11.25 6.875C11.25 6.70924 11.3158 6.55027 11.4331 6.43306C11.5503 6.31585 11.7092 6.25 11.875 6.25Z"
                              fill="#212529"
                            />
                            <path
                              d="M16.25 2.5H3.75C3.41848 2.5 3.10054 2.6317 2.86612 2.86612C2.6317 3.10054 2.5 3.41848 2.5 3.75V16.25C2.5 16.5815 2.6317 16.8995 2.86612 17.1339C3.10054 17.3683 3.41848 17.5 3.75 17.5H16.25C16.5815 17.5 16.8995 17.3683 17.1339 17.1339C17.3683 16.8995 17.5 16.5815 17.5 16.25V3.75C17.5 3.41848 17.3683 3.10054 17.1339 2.86612C16.8995 2.6317 16.5815 2.5 16.25 2.5ZM16.25 16.25H3.75V12.5L6.875 9.375L10.3688 12.8688C10.603 13.1016 10.9198 13.2322 11.25 13.2322C11.5802 13.2322 11.897 13.1016 12.1312 12.8688L13.125 11.875L16.25 15V16.25ZM16.25 13.2313L14.0062 10.9875C13.772 10.7547 13.4552 10.624 13.125 10.624C12.7948 10.624 12.478 10.7547 12.2438 10.9875L11.25 11.9813L7.75625 8.4875C7.52205 8.25469 7.20523 8.12401 6.875 8.12401C6.54477 8.12401 6.22795 8.25469 5.99375 8.4875L3.75 10.7313V3.75H16.25V13.2313Z"
                              fill="#212529"
                            />
                          </svg>
                        </button>
                        <button
                          type="button"
                          class="p-1 hover:bg-gray-100 rounded transition-colors"
                          title="Insert Code"
                        >
                          <svg
                            width="20"
                            height="20"
                            viewBox="0 0 20 20"
                            fill="none"
                            xmlns="http://www.w3.org/2000/svg"
                          >
                            <path
                              d="M19.375 10L15 14.375L14.1188 13.4938L17.6063 10L14.1188 6.50625L15 5.625L19.375 10ZM0.625 10L5 5.625L5.88125 6.50625L2.39375 10L5.88125 13.4938L5 14.375L0.625 10ZM7.7625 15.9275L11.025 3.75L12.2325 4.07313L8.97 16.25L7.7625 15.9275Z"
                              fill="#212529"
                            />
                          </svg>
                        </button>
                      </div>
                    </div>

                    <!-- Text Area -->
                    <textarea
                      [(ngModel)]="formData.welcomeMessage"
                      rows="5"
                      class="w-full px-4 py-3 text-base text-[#686868] focus:outline-none resize-none"
                      placeholder="Enter welcome message..."
                    ></textarea>
                  </div>
                </div>

                <!-- Banner Type and Visibility -->
                <div
                  class="grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6 mb-6"
                >
                  <!-- Banner Type -->
                  <div class="flex flex-col">
                    <label class="text-base font-medium text-[#878A99] mb-2"
                      >Banner Type</label
                    >
                    <div class="relative">
                      <select
                        [(ngModel)]="formData.bannerType"
                        class="w-full h-10 px-4 pr-10 border border-[#CED4DA] rounded text-base text-[#686868] focus:outline-none focus:border-[#049AD0] appearance-none bg-white transition-colors"
                      >
                        <option value="Banner">Banner</option>
                        <option value="Carousel">Carousel</option>
                        <option value="Hero">Hero</option>
                        <option value="Video">Video</option>
                      </select>
                      <svg
                        class="absolute right-4 top-1/2 -translate-y-1/2 pointer-events-none"
                        width="12"
                        height="7"
                        viewBox="0 0 12 7"
                        fill="none"
                        xmlns="http://www.w3.org/2000/svg"
                      >
                        <path
                          d="M1 1L6 6L11 1"
                          stroke="#686868"
                          stroke-width="2"
                          stroke-linecap="round"
                          stroke-linejoin="round"
                        />
                      </svg>
                    </div>
                  </div>

                  <!-- Visibility -->
                  <div class="flex flex-col">
                    <label class="text-base font-medium text-[#878A99] mb-2"
                      >Visibility</label
                    >
                    <div class="relative">
                      <select
                        [(ngModel)]="formData.visibility"
                        class="w-full h-10 px-4 pr-10 border border-[#CED4DA] rounded text-base text-[#686868] focus:outline-none focus:border-[#049AD0] appearance-none bg-white transition-colors"
                      >
                        <option value="Public">Public</option>
                        <option value="Private">Private</option>
                        <option value="Unlisted">Unlisted</option>
                      </select>
                      <svg
                        class="absolute right-4 top-1/2 -translate-y-1/2 pointer-events-none"
                        width="12"
                        height="7"
                        viewBox="0 0 12 7"
                        fill="none"
                        xmlns="http://www.w3.org/2000/svg"
                      >
                        <path
                          d="M1 1L6 6L11 1"
                          stroke="#686868"
                          stroke-width="2"
                          stroke-linecap="round"
                          stroke-linejoin="round"
                        />
                      </svg>
                    </div>
                  </div>
                </div>

                <!-- Date and Time Zone -->
                <div
                  class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6 mb-6"
                >
                  <!-- Start Date -->
                  <div class="flex flex-col">
                    <label class="text-base font-medium text-[#878A99] mb-2"
                      >Start Date</label
                    >
                    <div class="relative">
                      <input
                        type="text"
                        [(ngModel)]="formData.startDate"
                        placeholder="DD/MM/YYYY"
                        class="w-full h-10 px-4 pr-10 border border-[#CED4DA] rounded text-base text-[#686868] placeholder-[#686868] focus:outline-none focus:border-[#049AD0] transition-colors"
                      />
                      <svg
                        class="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none"
                        width="20"
                        height="20"
                        viewBox="0 0 19 19"
                        fill="none"
                        xmlns="http://www.w3.org/2000/svg"
                      >
                        <path
                          d="M12.417 0C12.8311 0.000163342 13.167 0.335887 13.167 0.75V0.857422C13.3568 0.865322 13.5359 0.875826 13.7051 0.889648C14.4184 0.947933 15.0221 1.06982 15.5732 1.35059C16.4669 1.80594 17.194 2.53312 17.6494 3.42676C17.9301 3.97775 18.0511 4.58183 18.1094 5.29492C18.1669 5.99946 18.167 6.8759 18.167 7.9834V11.8496C18.167 12.9572 18.1669 13.8335 18.1094 14.5381C18.0511 15.2513 17.9301 15.8552 17.6494 16.4062C17.194 17.3 16.467 18.027 15.5732 18.4824C15.0221 18.7632 14.4184 18.8841 13.7051 18.9424C13.0004 19 12.1243 19 11.0166 19H7.15039C6.04275 19 5.16652 18.9999 4.46191 18.9424C3.7487 18.8841 3.14482 18.7631 2.59375 18.4824C1.70006 18.027 0.972952 17.3 0.517578 16.4062C0.236853 15.8552 0.114921 15.2513 0.0566406 14.5381C-0.000903357 13.8335 0 12.9572 0 11.8496V7.9834C-1.78363e-07 6.87593 -0.000907578 5.99945 0.0566406 5.29492C0.114929 4.58177 0.236863 3.97779 0.517578 3.42676C0.972985 2.5331 1.70006 1.80594 2.59375 1.35059C3.14483 1.06987 3.74867 0.947923 4.46191 0.889648C4.6311 0.875829 4.81019 0.865322 5 0.857422V0.75C5 0.335794 5.3358 1.23633e-05 5.75 0C6.16421 -1.50882e-08 6.5 0.335786 6.5 0.75V0.835938C6.70748 0.835507 6.92411 0.833008 7.15039 0.833008H11.0166C11.2429 0.833008 11.4595 0.835509 11.667 0.835938V0.75C11.667 0.335786 12.0028 1.50882e-08 12.417 0ZM6.5 2.33594V3.25C6.5 3.66421 6.16421 4 5.75 4C5.3358 3.99999 5 3.66421 5 3.25V2.36035C4.85289 2.36708 4.71462 2.37409 4.58398 2.38477C3.96343 2.43547 3.57887 2.5324 3.27441 2.6875C2.66313 2.99902 2.16606 3.49617 1.85449 4.10742C1.69938 4.41184 1.60247 4.79655 1.55176 5.41699C1.50035 6.0463 1.5 6.85116 1.5 7.9834V11.8496C1.5 12.9819 1.50036 13.7867 1.55176 14.416C1.60245 15.0363 1.69945 15.4212 1.85449 15.7256C2.16606 16.3368 2.66314 16.834 3.27441 17.1455C3.57888 17.3006 3.96339 17.3966 4.58398 17.4473C5.21335 17.4987 6.01796 17.5 7.15039 17.5H11.0166C12.1491 17.5 12.9536 17.4987 13.583 17.4473C14.2035 17.3966 14.5881 17.3006 14.8926 17.1455C15.5038 16.834 16.001 16.3368 16.3125 15.7256C16.4675 15.4212 16.5636 15.0363 16.6143 14.416C16.6657 13.7867 16.667 12.9819 16.667 11.8496V7.9834C16.667 6.85113 16.6657 6.0463 16.6143 5.41699C16.5635 4.79656 16.4676 4.41184 16.3125 4.10742C16.001 3.4962 15.5038 2.99905 14.8926 2.6875C14.5882 2.53243 14.2034 2.43547 13.583 2.38477C13.4524 2.37409 13.3141 2.36708 13.167 2.36035V3.25C13.167 3.66411 12.8311 3.99984 12.417 4C12.0028 4 11.667 3.66421 11.667 3.25V2.33594C11.4629 2.33549 11.2465 2.33301 11.0166 2.33301H7.15039C6.92051 2.33301 6.70414 2.33548 6.5 2.33594ZM5.75 13.25C6.21013 13.25 6.58283 13.6229 6.58301 14.083C6.58301 14.5432 6.21024 14.917 5.75 14.917C5.28977 14.917 4.91699 14.5432 4.91699 14.083C4.91717 13.6229 5.28988 13.25 5.75 13.25ZM9.08301 13.25C9.54314 13.25 9.91682 13.6229 9.91699 14.083C9.91699 14.5432 9.54325 14.917 9.08301 14.917C8.62293 14.9168 8.25 14.5431 8.25 14.083C8.25018 13.623 8.62304 13.2502 9.08301 13.25ZM12.417 13.25C12.877 13.2502 13.2498 13.623 13.25 14.083C13.25 14.5431 12.8771 14.9168 12.417 14.917C11.9568 14.917 11.583 14.5432 11.583 14.083C11.5832 13.6229 11.9569 13.25 12.417 13.25ZM5.75 9.91699C6.21024 9.91699 6.58301 10.2898 6.58301 10.75C6.58301 11.2102 6.21024 11.583 5.75 11.583C5.28977 11.583 4.91699 11.2102 4.91699 10.75C4.91699 10.2898 5.28977 9.917 5.75 9.91699ZM9.08301 9.91699C9.54324 9.91699 9.91699 10.2898 9.91699 10.75C9.91699 11.2102 9.54325 11.583 9.08301 11.583C8.62293 11.5828 8.25 11.2101 8.25 10.75C8.25 10.2899 8.62293 9.91718 9.08301 9.91699ZM12.417 9.91699C12.8771 9.91716 13.25 10.2899 13.25 10.75C13.25 11.2101 12.8771 11.5828 12.417 11.583C11.9568 11.583 11.583 11.2102 11.583 10.75C11.583 10.2898 11.9568 9.91699 12.417 9.91699ZM13.25 5.83301C13.664 5.83317 13.9998 6.16904 14 6.58301C14 6.99712 13.6641 7.33284 13.25 7.33301H4.91699C4.50278 7.33301 4.16699 6.99722 4.16699 6.58301C4.16717 6.16894 4.50289 5.83301 4.91699 5.83301H13.25Z"
                          fill="#686868"
                        />
                      </svg>
                    </div>
                  </div>

                  <!-- End Date -->
                  <div class="flex flex-col">
                    <label class="text-base font-medium text-[#878A99] mb-2"
                      >End Date</label
                    >
                    <div class="relative">
                      <input
                        type="text"
                        [(ngModel)]="formData.endDate"
                        placeholder="DD/MM/YYYY"
                        class="w-full h-10 px-4 pr-10 border border-[#CED4DA] rounded text-base text-[#686868] placeholder-[#686868] focus:outline-none focus:border-[#049AD0] transition-colors"
                      />
                      <svg
                        class="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none"
                        width="20"
                        height="20"
                        viewBox="0 0 19 19"
                        fill="none"
                        xmlns="http://www.w3.org/2000/svg"
                      >
                        <path
                          d="M12.417 0C12.8311 0.000163342 13.167 0.335887 13.167 0.75V0.857422C13.3568 0.865322 13.5359 0.875826 13.7051 0.889648C14.4184 0.947933 15.0221 1.06982 15.5732 1.35059C16.4669 1.80594 17.194 2.53312 17.6494 3.42676C17.9301 3.97775 18.0511 4.58183 18.1094 5.29492C18.1669 5.99946 18.167 6.8759 18.167 7.9834V11.8496C18.167 12.9572 18.1669 13.8335 18.1094 14.5381C18.0511 15.2513 17.9301 15.8552 17.6494 16.4062C17.194 17.3 16.467 18.027 15.5732 18.4824C15.0221 18.7632 14.4184 18.8841 13.7051 18.9424C13.0004 19 12.1243 19 11.0166 19H7.15039C6.04275 19 5.16652 18.9999 4.46191 18.9424C3.7487 18.8841 3.14482 18.7631 2.59375 18.4824C1.70006 18.027 0.972952 17.3 0.517578 16.4062C0.236853 15.8552 0.114921 15.2513 0.0566406 14.5381C-0.000903357 13.8335 0 12.9572 0 11.8496V7.9834C-1.78363e-07 6.87593 -0.000907578 5.99945 0.0566406 5.29492C0.114929 4.58177 0.236863 3.97779 0.517578 3.42676C0.972985 2.5331 1.70006 1.80594 2.59375 1.35059C3.14483 1.06987 3.74867 0.947923 4.46191 0.889648C4.6311 0.875829 4.81019 0.865322 5 0.857422V0.75C5 0.335794 5.3358 1.23633e-05 5.75 0C6.16421 -1.50882e-08 6.5 0.335786 6.5 0.75V0.835938C6.70748 0.835507 6.92411 0.833008 7.15039 0.833008H11.0166C11.2429 0.833008 11.4595 0.835509 11.667 0.835938V0.75C11.667 0.335786 12.0028 1.50882e-08 12.417 0ZM6.5 2.33594V3.25C6.5 3.66421 6.16421 4 5.75 4C5.3358 3.99999 5 3.66421 5 3.25V2.36035C4.85289 2.36708 4.71462 2.37409 4.58398 2.38477C3.96343 2.43547 3.57887 2.5324 3.27441 2.6875C2.66313 2.99902 2.16606 3.49617 1.85449 4.10742C1.69938 4.41184 1.60247 4.79655 1.55176 5.41699C1.50035 6.0463 1.5 6.85116 1.5 7.9834V11.8496C1.5 12.9819 1.50036 13.7867 1.55176 14.416C1.60245 15.0363 1.69945 15.4212 1.85449 15.7256C2.16606 16.3368 2.66314 16.834 3.27441 17.1455C3.57888 17.3006 3.96339 17.3966 4.58398 17.4473C5.21335 17.4987 6.01796 17.5 7.15039 17.5H11.0166C12.1491 17.5 12.9536 17.4987 13.583 17.4473C14.2035 17.3966 14.5881 17.3006 14.8926 17.1455C15.5038 16.834 16.001 16.3368 16.3125 15.7256C16.4675 15.4212 16.5636 15.0363 16.6143 14.416C16.6657 13.7867 16.667 12.9819 16.667 11.8496V7.9834C16.667 6.85113 16.6657 6.0463 16.6143 5.41699C16.5635 4.79656 16.4676 4.41184 16.3125 4.10742C16.001 3.4962 15.5038 2.99905 14.8926 2.6875C14.5882 2.53243 14.2034 2.43547 13.583 2.38477C13.4524 2.37409 13.3141 2.36708 13.167 2.36035V3.25C13.167 3.66411 12.8311 3.99984 12.417 4C12.0028 4 11.667 3.66421 11.667 3.25V2.33594C11.4629 2.33549 11.2465 2.33301 11.0166 2.33301H7.15039C6.92051 2.33301 6.70414 2.33548 6.5 2.33594ZM5.75 13.25C6.21013 13.25 6.58283 13.6229 6.58301 14.083C6.58301 14.5432 6.21024 14.917 5.75 14.917C5.28977 14.917 4.91699 14.5432 4.91699 14.083C4.91717 13.6229 5.28988 13.25 5.75 13.25ZM9.08301 13.25C9.54314 13.25 9.91682 13.6229 9.91699 14.083C9.91699 14.5432 9.54325 14.917 9.08301 14.917C8.62293 14.9168 8.25 14.5431 8.25 14.083C8.25018 13.623 8.62304 13.2502 9.08301 13.25ZM12.417 13.25C12.877 13.2502 13.2498 13.623 13.25 14.083C13.25 14.5431 12.8771 14.9168 12.417 14.917C11.9568 14.917 11.583 14.5432 11.583 14.083C11.5832 13.6229 11.9569 13.25 12.417 13.25ZM5.75 9.91699C6.21024 9.91699 6.58301 10.2898 6.58301 10.75C6.58301 11.2102 6.21024 11.583 5.75 11.583C5.28977 11.583 4.91699 11.2102 4.91699 10.75C4.91699 10.2898 5.28977 9.917 5.75 9.91699ZM9.08301 9.91699C9.54324 9.91699 9.91699 10.2898 9.91699 10.75C9.91699 11.2102 9.54325 11.583 9.08301 11.583C8.62293 11.5828 8.25 11.2101 8.25 10.75C8.25 10.2899 8.62293 9.91718 9.08301 9.91699ZM12.417 9.91699C12.8771 9.91716 13.25 10.2899 13.25 10.75C13.25 11.2101 12.8771 11.5828 12.417 11.583C11.9568 11.583 11.583 11.2102 11.583 10.75C11.583 10.2898 11.9568 9.91699 12.417 9.91699ZM13.25 5.83301C13.664 5.83317 13.9998 6.16904 14 6.58301C14 6.99712 13.6641 7.33284 13.25 7.33301H4.91699C4.50278 7.33301 4.16699 6.99722 4.16699 6.58301C4.16717 6.16894 4.50289 5.83301 4.91699 5.83301H13.25Z"
                          fill="#686868"
                        />
                      </svg>
                    </div>
                  </div>

                  <!-- Time Zone -->
                  <div class="flex flex-col">
                    <label class="text-base font-medium text-[#878A99] mb-2"
                      >Time Zone</label
                    >
                    <div class="relative">
                      <select
                        [(ngModel)]="formData.timeZone"
                        class="w-full h-10 px-4 pr-10 border border-[#CED4DA] rounded text-base text-[#686868] focus:outline-none focus:border-[#049AD0] appearance-none bg-white transition-colors"
                      >
                        <option value="(GMT+05:30) Mumbai">
                          (GMT+05:30) Mumbai
                        </option>
                        <option value="(GMT+05:30) Kolkata">
                          (GMT+05:30) Kolkata
                        </option>
                        <option value="(GMT+05:30) Delhi">
                          (GMT+05:30) Delhi
                        </option>
                        <option value="(GMT+00:00) UTC">(GMT+00:00) UTC</option>
                        <option value="(GMT-05:00) New York">
                          (GMT-05:00) New York
                        </option>
                        <option value="(GMT+01:00) London">
                          (GMT+01:00) London
                        </option>
                      </select>
                      <svg
                        class="absolute right-4 top-1/2 -translate-y-1/2 pointer-events-none"
                        width="12"
                        height="7"
                        viewBox="0 0 12 7"
                        fill="none"
                        xmlns="http://www.w3.org/2000/svg"
                      >
                        <path
                          d="M1 1L6 6L11 1"
                          stroke="#686868"
                          stroke-width="2"
                          stroke-linecap="round"
                          stroke-linejoin="round"
                        />
                      </svg>
                    </div>
                  </div>
                </div>

                <!-- Venue -->
                <div class="flex flex-col mb-6">
                  <label class="text-base font-medium text-[#878A99] mb-2"
                    >Venue</label
                  >
                  <input
                    type="text"
                    [(ngModel)]="formData.venue"
                    placeholder="Enter venue address"
                    class="w-full h-10 px-4 border border-[#CED4DA] rounded text-base text-[#686868] placeholder-[#686868] focus:outline-none focus:border-[#049AD0] transition-colors"
                  />
                </div>

                <!-- City, State, Country -->
                <div
                  class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6 mb-6"
                >
                  <!-- City -->
                  <div class="flex flex-col">
                    <label class="text-base font-medium text-[#878A99] mb-2"
                      >City</label
                    >
                    <div class="relative">
                      <select
                        [(ngModel)]="formData.city"
                        class="w-full h-10 px-4 pr-10 border border-[#CED4DA] rounded text-base text-[#686868] focus:outline-none focus:border-[#049AD0] appearance-none bg-white transition-colors"
                      >
                        <option value="Gandhinagar">Gandhinagar</option>
                        <option value="Ahmedabad">Ahmedabad</option>
                        <option value="Surat">Surat</option>
                        <option value="Vadodara">Vadodara</option>
                        <option value="Rajkot">Rajkot</option>
                      </select>
                      <svg
                        class="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none"
                        width="20"
                        height="20"
                        viewBox="0 0 20 20"
                        fill="none"
                        xmlns="http://www.w3.org/2000/svg"
                      >
                        <path
                          d="M5 7.5L10 12.5L15 7.5"
                          stroke="#686868"
                          stroke-width="2"
                          stroke-linecap="round"
                          stroke-linejoin="round"
                        />
                      </svg>
                    </div>
                  </div>

                  <!-- State -->
                  <div class="flex flex-col">
                    <label class="text-base font-medium text-[#878A99] mb-2"
                      >State</label
                    >
                    <div class="relative">
                      <select
                        [(ngModel)]="formData.state"
                        class="w-full h-10 px-4 pr-10 border border-[#CED4DA] rounded text-base text-[#686868] focus:outline-none focus:border-[#049AD0] appearance-none bg-white transition-colors"
                      >
                        <option value="Gujarat">Gujarat</option>
                        <option value="Maharashtra">Maharashtra</option>
                        <option value="Karnataka">Karnataka</option>
                        <option value="Delhi">Delhi</option>
                        <option value="Tamil Nadu">Tamil Nadu</option>
                      </select>
                      <svg
                        class="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none"
                        width="20"
                        height="20"
                        viewBox="0 0 20 20"
                        fill="none"
                        xmlns="http://www.w3.org/2000/svg"
                      >
                        <path
                          d="M5 7.5L10 12.5L15 7.5"
                          stroke="#686868"
                          stroke-width="2"
                          stroke-linecap="round"
                          stroke-linejoin="round"
                        />
                      </svg>
                    </div>
                  </div>

                  <!-- Country -->
                  <div class="flex flex-col">
                    <label class="text-base font-medium text-[#878A99] mb-2"
                      >Country</label
                    >
                    <div class="relative">
                      <select
                        [(ngModel)]="formData.country"
                        class="w-full h-10 px-4 pr-10 border border-[#CED4DA] rounded text-base text-[#686868] focus:outline-none focus:border-[#049AD0] appearance-none bg-white transition-colors"
                      >
                        <option value="India">India</option>
                        <option value="United States">United States</option>
                        <option value="United Kingdom">United Kingdom</option>
                        <option value="Canada">Canada</option>
                        <option value="Australia">Australia</option>
                      </select>
                      <svg
                        class="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none"
                        width="20"
                        height="20"
                        viewBox="0 0 20 20"
                        fill="none"
                        xmlns="http://www.w3.org/2000/svg"
                      >
                        <path
                          d="M5 7.5L10 12.5L15 7.5"
                          stroke="#686868"
                          stroke-width="2"
                          stroke-linecap="round"
                          stroke-linejoin="round"
                        />
                      </svg>
                    </div>
                  </div>
                </div>

                <!-- Footer with divider and Next button -->
                <div class="pt-6 border-t border-[#CED4DA]">
                  <div class="flex justify-end">
                    <button
                      (click)="onNext()"
                      class="flex items-center gap-2 px-5 py-2 bg-[#009FD8] hover:bg-[#0385b5] text-white rounded font-semibold transition-colors"
                    >
                      <span>Next</span>
                      <svg
                        width="18"
                        height="18"
                        viewBox="0 0 18 18"
                        fill="none"
                        xmlns="http://www.w3.org/2000/svg"
                      >
                        <path
                          d="M3.75 9H14.25"
                          stroke="white"
                          stroke-width="2"
                          stroke-linecap="round"
                          stroke-linejoin="round"
                        />
                        <path
                          d="M9 3.75L14.25 9L9 14.25"
                          stroke="white"
                          stroke-width="2"
                          stroke-linecap="round"
                          stroke-linejoin="round"
                        />
                      </svg>
                    </button>
                  </div>
                </div>
              </div>

              <!-- Event Features Tab Content -->
              <div
                *ngIf="currentTab === 'features'"
                class="bg-white rounded shadow-md border border-[#E9E9E9] p-4 md:p-6 lg:p-8"
              >
                <!-- Available Label -->
                <h3 class="text-base font-medium text-[#686868] mb-3">
                  Available
                </h3>

                <!-- Features Grid -->
                <div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-8 gap-4 md:gap-6 mb-6">
                  <!-- Schedule - Active -->
                  <div
                    draggable="true"
                    (dragstart)="onDragStartFeature($event, 'schedule')"
                    (dragend)="onDragEndFeature($event)"
                    [class.feature-active]="isFeatureActive('schedule')"
                    class="feature-card group flex flex-col items-center gap-2 p-4 rounded border border-[#049AD0] shadow-sm transition-all hover:shadow-md cursor-grab active:cursor-grabbing"
                  >
                    <div class="relative w-full">
                      <svg
                        class="w-8 h-8 mx-auto"
                        viewBox="0 0 32 32"
                        fill="none"
                        xmlns="http://www.w3.org/2000/svg"
                      >
                        <path
                          d="M28.25 2.5H26.75V0H24.25V2.5H7.75V0H5.25V2.5H3.75C1.68225 2.5 0 4.18225 0 6.25V28.25C0 30.3177 1.68225 32 3.75 32H28.25C30.3177 32 32 30.3177 32 28.25V6.25C32 4.18225 30.3177 2.5 28.25 2.5ZM29.5 28.25C29.5 28.9393 28.9393 29.5 28.25 29.5H3.75C3.06075 29.5 2.5 28.9393 2.5 28.25V11.75H29.5V28.25ZM29.5 9.25H2.5V6.25C2.5 5.56075 3.06075 5 3.75 5H5.25V7.5H7.75V5H24.25V7.5H26.75V5H28.25C28.9393 5 29.5 5.56075 29.5 6.25V9.25Z"
                          [attr.fill]="
                            isFeatureActive('schedule') ? '#FFFFFF' : '#049AD0'
                          "
                        />
                      </svg>
                      <button
                        class="absolute -top-2 -right-2 p-1"
                        (click)="$event.stopPropagation()"
                      >
                        <svg
                          class="w-5 h-5"
                          viewBox="0 0 24 24"
                          fill="none"
                          xmlns="http://www.w3.org/2000/svg"
                        >
                          <path
                            d="M12 13C12.5523 13 13 12.5523 13 12C13 11.4477 12.5523 11 12 11C11.4477 11 11 11.4477 11 12C11 12.5523 11.4477 13 12 13Z"
                            [attr.stroke]="
                              isFeatureActive('schedule')
                                ? '#FFFFFF'
                                : '#686868'
                            "
                            stroke-width="2"
                            stroke-linecap="round"
                            stroke-linejoin="round"
                          />
                          <path
                            d="M19 13C19.5523 13 20 12.5523 20 12C20 11.4477 19.5523 11 19 11C18.4477 11 18 11.4477 18 12C18 12.5523 18.4477 13 19 13Z"
                            [attr.stroke]="
                              isFeatureActive('schedule')
                                ? '#FFFFFF'
                                : '#686868'
                            "
                            stroke-width="2"
                            stroke-linecap="round"
                            stroke-linejoin="round"
                          />
                          <path
                            d="M5 13C5.55228 13 6 12.5523 6 12C6 11.4477 5.55228 11 5 11C4.44772 11 4 11.4477 4 12C4 12.5523 4.44772 13 5 13Z"
                            [attr.stroke]="
                              isFeatureActive('schedule')
                                ? '#FFFFFF'
                                : '#686868'
                            "
                            stroke-width="2"
                            stroke-linecap="round"
                            stroke-linejoin="round"
                          />
                        </svg>
                      </button>
                    </div>
                    <span
                      class="text-sm md:text-base font-medium text-center"
                      [class.text-white]="isFeatureActive('schedule')"
                      [class.text-[#049AD0]]="!isFeatureActive('schedule')"
                    >
                      Schedule
                    </span>
                  </button>

                  <!-- Other Features (Inactive) -->
                  <div
                    *ngFor="let feature of inactiveFeatures"
                    draggable="true"
                    (dragstart)="onDragStartFeature($event, feature.id)"
                    (dragend)="onDragEndFeature($event)"
                    class="feature-card flex flex-col items-center gap-2 p-4 rounded border border-[#CED4DA] shadow-sm transition-all hover:shadow-md hover:border-[#049AD0] bg-white cursor-grab active:cursor-grabbing"
                  >
                    <div class="relative w-full">
                      <div
                        [innerHTML]="feature.icon"
                        class="w-8 h-8 mx-auto"
                      ></div>
                      <button
                        class="absolute -top-2 -right-2 p-1"
                        (click)="$event.stopPropagation()"
                      >
                        <svg
                          class="w-5 h-5"
                          viewBox="0 0 24 24"
                          fill="none"
                          xmlns="http://www.w3.org/2000/svg"
                        >
                          <path
                            d="M12 13C12.5523 13 13 12.5523 13 12C13 11.4477 12.5523 11 12 11C11.4477 11 11 11.4477 11 12C11 12.5523 11.4477 13 12 13Z"
                            stroke="#686868"
                            stroke-width="2"
                            stroke-linecap="round"
                            stroke-linejoin="round"
                          />
                          <path
                            d="M19 13C19.5523 13 20 12.5523 20 12C20 11.4477 19.5523 11 19 11C18.4477 11 18 11.4477 18 12C18 12.5523 18.4477 13 19 13Z"
                            stroke="#686868"
                            stroke-width="2"
                            stroke-linecap="round"
                            stroke-linejoin="round"
                          />
                          <path
                            d="M5 13C5.55228 13 6 12.5523 6 12C6 11.4477 5.55228 11 5 11C4.44772 11 4 11.4477 4 12C4 12.5523 4.44772 13 5 13Z"
                            stroke="#686868"
                            stroke-width="2"
                            stroke-linecap="round"
                            stroke-linejoin="round"
                          />
                        </svg>
                      </button>
                    </div>
                    <span
                      class="text-sm md:text-base font-normal text-center text-[#686868]"
                    >
                      {{ feature.label }}
                    </span>
                  </div>
                </div>

                <!-- Selected Section -->
                <div class="mb-8">
                  <h3 class="text-base font-medium text-[#686868] mb-3">
                    Selected
                  </h3>

                  <!-- Selected Features Container -->
                  <div
                    class="relative w-full rounded border-2 border-dashed transition-colors"
                    [ngClass]="{
                      'border-[#CED4DA] bg-white': !isDragOverSelected,
                      'border-[#049AD0] bg-[#E8F4F8]': isDragOverSelected
                    }"
                    style="min-height: 309px;"
                    (dragover)="onDragOverSelected($event)"
                    (drop)="onDropSelected($event)"
                    (dragleave)="onDragLeaveSelected($event)"
                  >
                    <!-- Selected Feature Cards -->
                    <div
                      class="absolute top-8 left-8 flex flex-wrap gap-6"
                      *ngIf="activeFeatures.length > 0"
                      (dragover)="onDragOver($event)"
                      (drop)="onDrop($event)"
                      (dragleave)="onDragLeave($event)"
                    >
                      <div
                        *ngFor="let featureId of activeFeatures"
                        draggable="true"
                        (dragstart)="onDragStart($event, featureId)"
                        (dragend)="onDragEnd($event)"
                        class="flex flex-col items-center gap-2 p-4 w-[120px] h-[120px] rounded border border-[#049AD0] shadow-[0_4px_15px_rgba(30,30,45,0.05)] bg-white transition-all hover:shadow-md cursor-move"
                      >
                        <div class="relative w-full flex-1 flex items-center justify-center">
                          <svg
                            class="w-8 h-8"
                            viewBox="0 0 32 32"
                            fill="none"
                            xmlns="http://www.w3.org/2000/svg"
                            *ngIf="featureId === 'schedule'"
                          >
                            <path
                              d="M28.25 2.5H26.75V0H24.25V2.5H7.75V0H5.25V2.5H3.75C1.68225 2.5 0 4.18225 0 6.25V28.25C0 30.3177 1.68225 32 3.75 32H28.25C30.3177 32 32 30.3177 32 28.25V6.25C32 4.18225 30.3177 2.5 28.25 2.5ZM29.5 28.25C29.5 28.9393 28.9393 29.5 28.25 29.5H3.75C3.06075 29.5 2.5 28.9393 2.5 28.25V11.75H29.5V28.25ZM29.5 9.25H2.5V6.25C2.5 5.56075 3.06075 5 3.75 5H5.25V7.5H7.75V5H24.25V7.5H26.75V5H28.25C28.9393 5 29.5 5.56075 29.5 6.25V9.25Z"
                              fill="#049AD0"
                            />
                            <path d="M7.25 14.375H4.75V16.875H7.25V14.375Z" fill="#049AD0"/>
                            <path d="M12.25 14.375H9.75V16.875H12.25V14.375Z" fill="#049AD0"/>
                            <path d="M17.25 14.375H14.75V16.875H17.25V14.375Z" fill="#049AD0"/>
                            <path d="M22.25 14.375H19.75V16.875H22.25V14.375Z" fill="#049AD0"/>
                            <path d="M27.25 14.375H24.75V16.875H27.25V14.375Z" fill="#049AD0"/>
                            <path d="M7.25 19.375H4.75V21.875H7.25V19.375Z" fill="#049AD0"/>
                            <path d="M12.25 19.375H9.75V21.875H12.25V19.375Z" fill="#049AD0"/>
                            <path d="M17.25 19.375H14.75V21.875H17.25V19.375Z" fill="#049AD0"/>
                            <path d="M22.25 19.375H19.75V21.875H22.25V19.375Z" fill="#049AD0"/>
                            <path d="M7.25 24.375H4.75V26.875H7.25V24.375Z" fill="#049AD0"/>
                            <path d="M12.25 24.375H9.75V26.875H12.25V24.375Z" fill="#049AD0"/>
                            <path d="M17.25 24.375H14.75V26.875H17.25V24.375Z" fill="#049AD0"/>
                            <path d="M22.25 24.375H19.75V26.875H22.25V24.375Z" fill="#049AD0"/>
                            <path d="M27.25 19.375H24.75V21.875H27.25V19.375Z" fill="#049AD0"/>
                          </svg>
                          <button
                            class="absolute -top-2 -right-2 p-1"
                            (click)="toggleFeature(featureId)"
                            title="Remove feature"
                          >
                            <svg
                              class="w-5 h-5"
                              viewBox="0 0 24 24"
                              fill="none"
                              xmlns="http://www.w3.org/2000/svg"
                            >
                              <path
                                d="M12 13C12.5523 13 13 12.5523 13 12C13 11.4477 12.5523 11 12 11C11.4477 11 11 11.4477 11 12C11 12.5523 11.4477 13 12 13Z"
                                stroke="#049AD0"
                                stroke-width="2"
                                stroke-linecap="round"
                                stroke-linejoin="round"
                              />
                              <path
                                d="M19 13C19.5523 13 20 12.5523 20 12C20 11.4477 19.5523 11 19 11C18.4477 11 18 11.4477 18 12C18 12.5523 18.4477 13 19 13Z"
                                stroke="#049AD0"
                                stroke-width="2"
                                stroke-linecap="round"
                                stroke-linejoin="round"
                              />
                              <path
                                d="M5 13C5.55228 13 6 12.5523 6 12C6 11.4477 5.55228 11 5 11C4.44772 11 4 11.4477 4 12C4 12.5523 4.44772 13 5 13Z"
                                stroke="#049AD0"
                                stroke-width="2"
                                stroke-linecap="round"
                                stroke-linejoin="round"
                              />
                            </svg>
                          </button>
                        </div>
                        <span
                          class="text-base font-medium text-[#049AD0] text-center leading-tight"
                        >
                          {{ getFeatureLabel(featureId) }}
                        </span>
                      </div>
                    </div>

                    <!-- Drag to Add Message -->
                    <div
                      class="absolute left-1/2 bottom-[10%] -translate-x-1/2 translate-y-1/2 flex items-center gap-2"
                    >
                      <svg
                        width="24"
                        height="24"
                        viewBox="0 0 24 24"
                        fill="none"
                        xmlns="http://www.w3.org/2000/svg"
                      >
                        <path
                          d="M5 9L2 12L5 15"
                          stroke="#686868"
                          stroke-width="2"
                          stroke-linecap="round"
                          stroke-linejoin="round"
                        />
                        <path
                          d="M9 5L12 2L15 5"
                          stroke="#686868"
                          stroke-width="2"
                          stroke-linecap="round"
                          stroke-linejoin="round"
                        />
                        <path
                          d="M15 19L12 22L9 19"
                          stroke="#686868"
                          stroke-width="2"
                          stroke-linecap="round"
                          stroke-linejoin="round"
                        />
                        <path
                          d="M19 9L22 12L19 15"
                          stroke="#686868"
                          stroke-width="2"
                          stroke-linecap="round"
                          stroke-linejoin="round"
                        />
                        <path
                          d="M2 12H22"
                          stroke="#686868"
                          stroke-width="2"
                          stroke-linecap="round"
                          stroke-linejoin="round"
                        />
                        <path
                          d="M12 2V22"
                          stroke="#686868"
                          stroke-width="2"
                          stroke-linecap="round"
                          stroke-linejoin="round"
                        />
                      </svg>
                      <span class="text-[#878A99] text-lg font-semibold whitespace-nowrap">
                        Drag to add & sort features
                      </span>
                    </div>
                  </div>
                </div>

                <!-- Footer with Back and Next buttons -->
                <div class="pt-6 mt-8 border-t border-[#CED4DA]">
                  <div class="flex justify-between items-center">
                    <button
                      (click)="onBack()"
                      class="flex items-center gap-2 px-5 py-2 bg-[#DEE1EB] hover:bg-[#CED3E0] text-[#4C546C] rounded font-semibold transition-colors"
                    >
                      <svg
                        width="18"
                        height="18"
                        viewBox="0 0 18 18"
                        fill="none"
                        xmlns="http://www.w3.org/2000/svg"
                      >
                        <path
                          d="M14.25 9H3.75"
                          stroke="#4C546C"
                          stroke-width="2"
                          stroke-linecap="round"
                          stroke-linejoin="round"
                        />
                        <path
                          d="M9 14.25L3.75 9L9 3.75"
                          stroke="#4C546C"
                          stroke-width="2"
                          stroke-linecap="round"
                          stroke-linejoin="round"
                        />
                      </svg>
                      <span>Back</span>
                    </button>

                    <button
                      (click)="onNext()"
                      class="flex items-center gap-2 px-5 py-2 bg-[#009FD8] hover:bg-[#0385b5] text-white rounded font-semibold transition-colors"
                    >
                      <span>Next</span>
                      <svg
                        width="18"
                        height="18"
                        viewBox="0 0 18 18"
                        fill="none"
                        xmlns="http://www.w3.org/2000/svg"
                      >
                        <path
                          d="M3.75 9H14.25"
                          stroke="white"
                          stroke-width="2"
                          stroke-linecap="round"
                          stroke-linejoin="round"
                        />
                        <path
                          d="M9 3.75L14.25 9L9 14.25"
                          stroke="white"
                          stroke-width="2"
                          stroke-linecap="round"
                          stroke-linejoin="round"
                        />
                      </svg>
                    </button>
                  </div>
                </div>
              </div>

              <!-- Features Content Tab (Placeholder) -->
              <div
                *ngIf="currentTab === 'content'"
                class="bg-white rounded shadow-md border border-[#E9E9E9] p-4 md:p-6 lg:p-8"
              >
                <p class="text-center text-[#686868] py-12">
                  Features Content Tab - Coming Soon
                </p>
              </div>
            </div>
          </div>
        </div>
      </main>
    </div>
  `,
  styles: [
    `
      .feature-card {
        min-height: 120px;
      }

      .feature-active {
        background-color: #049ad0 !important;
        border-color: #049ad0 !important;
      }

      .feature-active span {
        color: white !important;
      }
    `,
  ],
})
export class EventSetupComponent implements OnInit {
  eventName = "ENGIMACH 2023";
  activeRoute = "/event/setup";
  backButtonLabel = "Back to KQOL Communication";
  currentTab: "details" | "features" | "content" = "details";

  formData = {
    eventName: "14th Engimach",
    logo: null as File | null,
    banner: null as File | null,
    welcomeMessage:
      "Over the years, ENGIMACH has been one of the prime contributors to the development of the machine tools industry, that enables its participants and visitors with cutting edge and power house technology that stands for engineering excellence, innovation, quality and reliability. ENGIMACH is not just a trade show but a platform to see, understand and learn where the industry is heading to. The showcase at ENGIMACH shall offer a quintessential launch pad for new ideas, products and services, a conducive environment for forging joint ventures, collaborations and an open marketplace to source ideal solutions with an anticipated 1,00,000 visitors and beneficiaries",
    bannerType: "Banner",
    visibility: "Public",
    startDate: "15/05/2023",
    endDate: "31/05/2023",
    timeZone: "(GMT+05:30) Mumbai",
    venue:
      "Exhibition Centre, Swarnim Park, Near Jilla panchayat, Sector 17, Gandhinagar, Gujarat 382016",
    city: "Gandhinagar",
    state: "Gujarat",
    country: "India",
  };

  logoPreview: string | null = null;
  bannerPreview: string | null = null;

  activeFeatures: string[] = ["schedule"];
  draggedFeatureId: string | null = null;
  isDragOverSelected = false;

  inactiveFeatures = [
    {
      id: "exhibitor",
      label: "Exhibitor",
      icon: `<svg viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M20.8241 14.8378C22.8716 13.3445 24.205 10.9277 24.205 8.20512C24.205 3.68081 20.5242 0 15.9999 0C11.4756 0 7.79474 3.68081 7.79474 8.20512C7.79474 10.9277 9.12805 13.3445 11.1757 14.8378C6.08568 16.7856 2.46143 21.7207 2.46143 27.4872C2.46143 29.9756 4.48586 32 6.97424 32H25.0255C27.5139 32 29.5383 29.9756 29.5383 27.4872C29.5383 21.7207 25.9141 16.7856 20.8241 14.8378ZM10.2563 8.20512C10.2563 5.03813 12.8329 2.46156 15.9999 2.46156C19.1669 2.46156 21.7434 5.03813 21.7434 8.20512C21.7434 11.3721 19.1669 13.9487 15.9999 13.9487C12.8329 13.9487 10.2563 11.3721 10.2563 8.20512ZM25.0255 29.5384H6.97424C5.84318 29.5384 4.92299 28.6182 4.92299 27.4871C4.92299 21.3792 9.89199 16.4102 15.9999 16.4102C22.1079 16.4102 27.0769 21.3792 27.0769 27.4871C27.0768 28.6182 26.1566 29.5384 25.0255 29.5384Z" fill="#686868"/></svg>`,
    },
    {
      id: "about",
      label: "About",
      icon: `<svg viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M18.6668 2.66663H8.00016C7.29292 2.66663 6.61464 2.94758 6.11454 3.44767C5.61445 3.94777 5.3335 4.62605 5.3335 5.33329V26.6666C5.3335 27.3739 5.61445 28.0521 6.11454 28.5522C6.61464 29.0523 7.29292 29.3333 8.00016 29.3333H24.0002C24.7074 29.3333 25.3857 29.0523 25.8858 28.5522C26.3859 28.0521 26.6668 27.3739 26.6668 26.6666V10.6666L18.6668 2.66663Z" stroke="#686868" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/><path d="M18.6665 2.66663V10.6666H26.6665" stroke="#686868" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/><path d="M21.3332 17.3334H10.6665" stroke="#686868" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/><path d="M21.3332 22.6666H10.6665" stroke="#686868" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/><path d="M13.3332 12H11.9998H10.6665" stroke="#686868" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>`,
    },
    {
      id: "information",
      label: "Information",
      icon: `<svg viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#clip0_258_4007)"><path d="M16 0.000732422C7.1776 0.000732422 0 7.17804 0 15.9999C0 24.8219 7.1776 31.9991 16 31.9991C24.8224 31.9991 32 24.8219 32 15.9999C32 7.17804 24.8224 0.000732422 16 0.000732422ZM16 29.0901C8.78167 29.0901 2.90909 23.2179 2.90909 16C2.90909 8.78202 8.78167 2.90982 16 2.90982C23.2183 2.90982 29.0909 8.78202 29.0909 15.9999C29.0909 23.218 23.2183 29.0901 16 29.0901Z" fill="#686868"/><path d="M16 12.6068C15.1967 12.6068 14.5454 13.2581 14.5454 14.0614V23.7567C14.5454 24.56 15.1967 25.2112 16 25.2112C16.8033 25.2112 17.4545 24.56 17.4545 23.7567V14.0614C17.4545 13.2582 16.8033 12.6068 16 12.6068Z" fill="#686868"/><path d="M16 6.78894C15.6169 6.78894 15.2425 6.94409 14.9711 7.21464C14.7006 7.48518 14.5454 7.86046 14.5454 8.24349C14.5454 8.62652 14.7006 9.00082 14.9711 9.27233C15.2417 9.54288 15.6169 9.69803 16 9.69803C16.383 9.69803 16.7573 9.54288 17.0287 9.27233C17.2993 9.00082 17.4545 8.62652 17.4545 8.24349C17.4545 7.86046 17.2993 7.48518 17.0287 7.21464C16.7573 6.94399 16.383 6.78894 16 6.78894Z" fill="#686868"/></g></svg>`,
    },
    {
      id: "speakers",
      label: "Speakers",
      icon: `<svg viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M27.9361 12.6196L17.3324 2.01581C16.2362 0.919565 14.4523 0.919502 13.356 2.01581C12.3705 3.00125 12.2856 4.50418 13.0134 5.57737L12.9986 5.65118C12.2341 9.47399 10.3729 12.9517 7.61613 15.7085L2.75245 20.5722C1.65357 21.6711 1.65339 23.4496 2.75245 24.5485L5.40332 27.1994C6.50213 28.2983 8.28075 28.2983 9.37968 27.1994L10.0424 26.5366L14.6815 31.1758C15.7804 32.2747 17.5589 32.2748 18.6579 31.1758C19.7542 30.0795 19.7542 28.2957 18.6579 27.1995L16.6697 25.2113L17.3324 24.5485C18.4313 23.4497 18.4314 21.6712 17.3324 20.5722L16.882 20.1218C19.0976 18.5706 21.6138 17.4907 24.3008 16.9532L24.3756 16.9383C25.4727 17.679 26.9721 17.5599 27.9361 16.5958H27.9362C29.0323 15.4997 29.0323 13.7159 27.9361 12.6196Z" fill="#686868"/></svg>`,
    },
    {
      id: "sponsors",
      label: "Sponsors",
      icon: `<svg viewBox="0 0 36 36" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#clip0_258_4064)"><path d="M35.963 23.3473C35.3686 19.9998 33.1472 17.312 30.218 16.0653C31.5179 14.9752 32.3482 13.3245 32.3482 11.4804C32.3482 8.20514 29.7302 5.54041 26.512 5.54041C23.2938 5.54041 20.6758 8.20487 20.6758 11.4804C20.6758 13.3256 21.5069 14.9768 22.8082 16.0672C22.3226 16.2743 21.8521 16.5215 21.4028 16.8096C20.2704 17.5358 19.3036 18.4922 18.5584 19.6122C17.8001 19.1085 16.9846 18.6894 16.125 18.3678C17.9726 17.0321 19.1805 14.8359 19.1805 12.3577C19.1805 8.29633 15.9365 4.99219 11.9491 4.99219C7.96157 4.99219 4.71758 8.29633 4.71758 12.3577C4.71758 14.8359 5.92553 17.0321 7.77316 18.3678C3.84115 19.8388 0.825401 23.3372 0.0431742 27.7416C-0.101296 28.5559 0.120628 29.3865 0.651542 30.0204C1.17751 30.648 1.94491 31.0078 2.75707 31.0078H21.141C21.9532 31.0078 22.7206 30.648 23.2466 30.0204C23.7778 29.3865 23.9994 28.5559 23.8549 27.7416C23.7585 27.1983 23.6278 26.669 23.466 26.1557H33.6273C34.3266 26.1557 34.9874 25.8459 35.44 25.3059C35.8965 24.7613 36.0871 24.0472 35.963 23.3473Z" fill="#686868"/></g></svg>`,
    },
    {
      id: "social-media",
      label: "Social Media",
      icon: `<svg width="32" height="32" fill="#686868"><image href="https://api.builder.io/api/v1/image/assets/TEMP/b20a3563c8f5b2f82e89208b86b6a94f0e903e93?width=64" width="32" height="32"/></svg>`,
    },
    {
      id: "image-gallery",
      label: "Image Gallery",
      icon: `<svg viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#clip0_258_4081)"><path d="M28.25 0H3.75C1.68225 0 0 1.68225 0 3.75V28.25C0 30.3177 1.68225 32 3.75 32H28.25C30.3177 32 32 30.3177 32 28.25V3.75C32 1.68225 30.3177 0 28.25 0ZM3.75 2.5H28.25C28.9393 2.5 29.5 3.06075 29.5 3.75V22.1072L25.2454 17.8526C23.7833 16.3905 21.4042 16.3905 19.9421 17.8526L18.5625 19.2323L14.6829 15.3526C13.2208 13.8905 10.8418 13.8905 9.37956 15.3526L2.5 22.2322V3.75C2.5 3.06075 3.06075 2.5 3.75 2.5Z" fill="#686868"/></g></svg>`,
    },
    {
      id: "testimonials",
      label: "Testimonials",
      icon: `<svg viewBox="0 0 36 36" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#clip0_258_4093)"><path d="M9.84375 22.9219C9.84375 20.9834 8.26664 19.4062 6.32812 19.4062C4.38961 19.4062 2.8125 20.9834 2.8125 22.9219C2.8125 24.8604 4.38961 26.4375 6.32812 26.4375C8.26664 26.4375 9.84375 24.8604 9.84375 22.9219Z" fill="#686868"/><path d="M11.6361 11.5932C11.5534 11.3386 11.3334 11.1531 11.0685 11.1145L8.03395 10.6735L6.6767 7.9239C6.55823 7.68393 6.31382 7.53198 6.04621 7.53198C5.7786 7.53198 5.5342 7.68393 5.41572 7.9239L4.05841 10.6735L1.02386 11.1145C0.758994 11.1531 0.538986 11.3386 0.456299 11.5932C0.373611 11.8476 0.442588 12.1271 0.634189 12.3139L2.82977 14.4542L2.31142 17.4762C2.26614 17.74 2.37456 18.0066 2.59113 18.1639C2.80762 18.3211 3.09463 18.3418 3.33159 18.2174L6.046 16.7906L8.75985 18.2174C8.99906 18.3432 9.286 18.3197 9.50038 18.1639C9.71695 18.0066 9.82544 17.74 9.78016 17.4762L9.26188 14.4543L11.458 12.3139C11.6498 12.1272 11.7187 11.8477 11.6361 11.5932Z" fill="#686868"/></g></svg>`,
    },
    {
      id: "web-view",
      label: "Web View",
      icon: `<svg viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#clip0_258_4120)"><path d="M31.1095 21.2637C31.6857 19.6144 32 17.8433 32 15.9999C32 14.1565 31.6857 12.3854 31.1095 10.7362C31.0954 10.6866 31.0788 10.6383 31.0586 10.5918C28.8363 4.42291 22.9255 0 16.0003 0C9.07506 0 3.16408 4.42291 0.941921 10.5918C0.921738 10.6385 0.904918 10.6866 0.891004 10.7362C0.31486 12.3854 0.000488281 14.1565 0.000488281 15.9999C0.000488281 17.8433 0.31486 19.6144 0.891004 21.2637C0.905071 21.3132 0.921738 21.3615 0.941921 21.408C3.16423 27.5771 9.07506 31.9998 16.0003 31.9998C22.9255 31.9998 28.8363 27.5769 31.0586 21.408C31.0788 21.3615 31.0954 21.3134 31.1095 21.2637Z" fill="#686868"/></g></svg>`,
    },
    {
      id: "floor-plan",
      label: "Floor Plan",
      icon: `<svg viewBox="0 0 36 36" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M33.9105 33.8906H31.1281V1.05469C31.1281 0.472219 30.6558 0 30.0734 0H5.92645C5.34398 0 4.87176 0.472219 4.87176 1.05469V33.8906H2.08936C1.50689 33.8906 1.03467 34.3628 1.03467 34.9453C1.03467 35.5278 1.50689 36 2.08936 36H33.9106C34.4931 36 34.9653 35.5278 34.9653 34.9453C34.9653 34.3628 34.4931 33.8906 33.9105 33.8906Z" fill="#686868"/></svg>`,
    },
    {
      id: "category",
      label: "Category",
      icon: `<svg viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M27.1831 2.88319C26.5343 2.23306 25.6716 1.875 24.7536 1.875H23.2031V1.5625C23.2031 0.700938 22.5022 0 21.6406 0H10.3906C9.52906 0 8.82813 0.700938 8.82813 1.5625V1.875H7.27206C5.38075 1.875 3.84031 3.41538 3.83819 5.30869L3.8125 28.5587C3.8115 29.4776 4.16819 30.3417 4.81688 30.9918C5.46563 31.6419 6.32844 32 7.24638 32H24.7279C26.6193 32 28.1597 30.4596 28.1618 28.5663L28.1875 5.31631C28.1886 4.39737 27.8318 3.53325 27.1831 2.88319Z" fill="#686868"/></svg>`,
    },
    {
      id: "scan-visitor",
      label: "Scan Visitor",
      icon: `<svg viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#clip0_273_2040)"><path d="M28.5413 0H24.0625C23.5447 0 23.125 0.41975 23.125 0.9375C23.125 1.45525 23.5447 1.875 24.0625 1.875H28.5413C29.4145 1.875 30.125 2.5855 30.125 3.45881V7.9375C30.125 8.45525 30.5448 8.875 31.0625 8.875C31.5802 8.875 32 8.45525 32 7.9375V3.45881C32 1.55163 30.4484 0 28.5413 0Z" fill="#686868"/><path d="M0.0625 16C0.0625 16.5178 0.48225 16.9375 1 16.9375H31C31.5177 16.9375 31.9375 16.5178 31.9375 16C31.9375 15.4822 31.5177 15.0625 31 15.0625H1C0.48225 15.0625 0.0625 15.4822 0.0625 16Z" fill="#686868"/></g></svg>`,
    },
    {
      id: "visitor-enquiry",
      label: "Visitor Enquiry",
      icon: `<svg viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#clip0_273_2051)"><path d="M32 21.6562C32 16.9919 28.8572 12.9167 24.4253 11.6887C24.1467 5.19629 18.7786 0 12.2188 0C5.4812 0 0 5.4812 0 12.2188C0 14.4146 0.584473 16.5525 1.69434 18.4294L0.0449219 24.3923L6.00806 22.7432C7.7334 23.7634 9.67969 24.3381 11.6885 24.4248C12.9163 28.8569 16.9917 32 21.6562 32C23.5181 32 25.3286 31.5042 26.9194 30.562L31.9548 31.9548L30.562 26.9194C31.5042 25.3286 32 23.5181 32 21.6562Z" fill="#686868"/><path d="M11.2812 16.9375H13.1562V18.8125H11.2812V16.9375Z" fill="#686868"/></g></svg>`,
    },
    {
      id: "dialogues",
      label: "Dialogues",
      icon: `<svg viewBox="0 0 36 36" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M35.2986 11.0132C35.7195 10.8636 36.0005 10.465 36 10.0182C35.9994 9.57148 35.7175 9.17358 35.2962 9.02494L18.3509 3.0462C18.1239 2.96604 17.8762 2.96604 17.6491 3.0462L0.703829 9.02494C0.282517 9.17351 0.000563343 9.57148 8.42838e-07 10.0182C-0.000561657 10.465 0.280477 10.8636 0.701438 11.0132L7.4141 13.3996V20.2795C7.4141 21.415 8.59866 22.3752 10.9349 23.1335C12.9712 23.7944 15.4804 24.1584 18.0001 24.1584C20.5198 24.1584 23.0289 23.7944 25.0653 23.1335C27.4015 22.3752 28.586 21.4151 28.586 20.2795V13.3996L31.3575 12.4144V21.9476C30.125 22.3834 29.2394 23.5597 29.2394 24.9395C29.2394 26.3194 30.125 27.4957 31.3575 27.9315V31.9593C31.3575 32.5418 31.8298 33.014 32.4122 33.014C32.9947 33.014 33.4669 32.5418 33.4669 31.9593V27.9315C34.6994 27.4957 35.5851 26.3194 35.5851 24.9395C35.5851 23.5597 34.6994 22.3834 33.4669 21.9476V11.6644L35.2986 11.0132Z" fill="#686868"/></svg>`,
    },
    {
      id: "participants",
      label: "Participants",
      icon: `<svg viewBox="0 0 36 36" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#clip0_273_2126)"><path d="M35.963 23.3473C35.3686 19.9998 33.1472 17.312 30.218 16.0653C31.5179 14.9752 32.3482 13.3245 32.3482 11.4804C32.3482 8.20514 29.7302 5.54041 26.512 5.54041C23.2938 5.54041 20.6758 8.20487 20.6758 11.4804C20.6758 13.3256 21.5069 14.9768 22.8082 16.0672C22.3226 16.2743 21.8521 16.5215 21.4028 16.8096C20.2704 17.5358 19.3036 18.4922 18.5584 19.6122C17.8001 19.1085 16.9846 18.6894 16.125 18.3678C17.9726 17.0321 19.1805 14.8359 19.1805 12.3577C19.1805 8.29633 15.9365 4.99219 11.9491 4.99219C7.96157 4.99219 4.71758 8.29633 4.71758 12.3577C4.71758 14.8359 5.92553 17.0321 7.77316 18.3678C3.84115 19.8388 0.825401 23.3372 0.0431742 27.7416C-0.101296 28.5559 0.120628 29.3865 0.651542 30.0204C1.17751 30.648 1.94491 31.0078 2.75707 31.0078H21.141C21.9532 31.0078 22.7206 30.648 23.2466 30.0204C23.7778 29.3865 23.9994 28.5559 23.8549 27.7416C23.7585 27.1983 23.6278 26.669 23.466 26.1557H33.6273C34.3266 26.1557 34.9874 25.8459 35.44 25.3059C35.8965 24.7613 36.0871 24.0472 35.963 23.3473Z" fill="#686868"/></g></svg>`,
    },
    {
      id: "delegate-registration",
      label: "Delegate Registration",
      icon: `<svg viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#clip0_273_2128)"><path d="M21.5373 15.0533C20.9608 14.7792 20.3726 14.5431 19.774 14.3454C21.7125 12.8904 22.9687 10.5735 22.9687 7.96875C22.9687 3.5748 19.394 0 15 0C10.606 0 7.03123 3.5748 7.03123 7.96875C7.03123 10.5764 8.29029 12.8955 10.2324 14.3503C8.453 14.9361 6.78338 15.8476 5.32205 17.0496C2.64244 19.2537 0.779333 22.3281 0.0760321 25.7064C-0.144398 26.765 0.119684 27.8522 0.800427 28.6893C1.47783 29.5223 2.4823 30 3.55621 30H17.9883C18.6355 30 19.1601 29.4754 19.1601 28.8281C19.1601 28.1809 18.6355 27.6562 17.9883 27.6562H3.55621C3.05593 27.6562 2.75412 27.377 2.61877 27.2106C2.38504 26.9232 2.29457 26.5491 2.37056 26.1841C3.58668 20.3426 8.73918 16.0754 14.6893 15.9315C14.7924 15.9355 14.8959 15.9375 15 15.9375C15.105 15.9375 15.2096 15.9354 15.3137 15.9314C17.1371 15.9742 18.8908 16.3903 20.5311 17.1701C21.1157 17.4478 21.8147 17.1993 22.0926 16.6147C22.3704 16.0302 22.1219 15.3311 21.5373 15.0533Z" fill="#686868"/><path d="M28.8281 23.2617H25.6055V20.0391C25.6055 19.3918 25.0808 18.8672 24.4336 18.8672C23.7864 18.8672 23.2617 19.3918 23.2617 20.0391V23.2617H20.0391C19.3918 23.2617 18.8672 23.7864 18.8672 24.4336C18.8672 25.0808 19.3918 25.6055 20.0391 25.6055H23.2617V28.8281C23.2617 29.4754 23.7864 30 24.4336 30C25.0808 30 25.6055 29.4754 25.6055 28.8281V25.6055H28.8281C29.4754 25.6055 30 25.0808 30 24.4336C30 23.7864 29.4754 23.2617 28.8281 23.2617Z" fill="#686868"/></g></svg>`,
    },
    {
      id: "faqs",
      label: "FAQs",
      icon: `<svg viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#clip0_273_2095)"><path d="M32 21.6562C32 16.9919 28.8572 12.9167 24.4253 11.6887C24.1467 5.19629 18.7786 0 12.2188 0C5.4812 0 0 5.4812 0 12.2188C0 14.4146 0.584473 16.5525 1.69434 18.4294L0.0449219 24.3923L6.00806 22.7432C7.7334 23.7634 9.67969 24.3381 11.6885 24.4248C12.9163 28.8569 16.9917 32 21.6562 32C23.5181 32 25.3286 31.5042 26.9194 30.562L31.9548 31.9548L30.562 26.9194C31.5042 25.3286 32 23.5181 32 21.6562Z" fill="#686868"/><path d="M11.2812 16.9375H13.1562V18.8125H11.2812V16.9375Z" fill="#686868"/></g></svg>`,
    },
    {
      id: "info-details",
      label: "Info Details View",
      icon: `<svg viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M30.2905 6.56606C30.2905 2.9455 27.3455 0 23.7257 0C22.2273 0 20.8447 0.504625 19.7386 1.35287H3.98404C2.72985 1.35287 1.70947 2.37319 1.70947 3.62744V26.3633C1.70947 27.6174 2.72985 28.6379 3.98404 28.6379H5.96722V29.7254C5.96722 30.9796 6.9876 32 8.24179 32H24.5831C25.8373 32 26.8577 30.9796 26.8577 29.7254V21.0565C26.8577 20.7114 26.5778 20.4315 26.2327 20.4315C25.8875 20.4315 25.6077 20.7114 25.6077 21.0565V29.7254C25.6077 30.2903 25.148 30.75 24.5831 30.75H8.24179C7.67685 30.75 7.21722 30.2904 7.21722 29.7254V28.6379H20.3254C21.5796 28.6379 22.6 27.6175 22.6 26.3633V13.0355C22.9659 13.099 23.342 13.1321 23.7257 13.1321C24.3795 13.1321 25.0113 13.036 25.6077 12.8572V15.4058C25.6077 15.7509 25.8876 16.0308 26.2327 16.0308C26.5778 16.0308 26.8577 15.7509 26.8577 15.4058V12.3355C28.901 11.2214 30.2905 9.053 30.2905 6.56606Z" fill="#686868"/></svg>`,
    },
  ];

  menuItems: MenuItem[] = [
    {
      label: "Dashboard",
      icon: DASHBOARD_ICON,
      route: "/event/dashboard",
      action: () => this.navigateTo("dashboard"),
    },
    {
      label: "Event Setup",
      icon: EVENT_SETUP_ICON,
      route: "/event/setup",
      action: () => this.navigateTo("setup"),
    },
    {
      label: "Event Overview",
      icon: EVENT_OVERVIEW_ICON,
      route: "/event/overview",
      action: () => this.navigateTo("overview"),
    },
    {
      label: "Send Notification",
      icon: `<svg width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg"><path opacity="0.4" fill-rule="evenodd" clip-rule="evenodd" d="M0.750001 0C0.335787 -5.96046e-08 8.19241e-07 0.335786 7.59636e-07 0.75C7.00032e-07 1.16421 0.335787 1.5 0.750001 1.5L8.08333 1.5C8.49755 1.5 8.83333 1.16421 8.83333 0.750001C8.83333 0.335787 8.49755 7.15256e-07 8.08333 7.15256e-07L0.750001 0Z" fill="white"/></svg>`,
      route: "/event/notification",
      action: () => this.navigateTo("notification"),
    },
    {
      label: "User Profile",
      icon: `<svg width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg"><path opacity="0.4" fill-rule="evenodd" clip-rule="evenodd" d="M0.750001 0C0.335787 -5.96046e-08 8.19241e-07 0.335786 7.59636e-07 0.75C7.00032e-07 1.16421 0.335787 1.5 0.750001 1.5L8.08333 1.5C8.49755 1.5 8.83333 1.16421 8.83333 0.750001C8.83333 0.335787 8.49755 7.15256e-07 8.08333 7.15256e-07L0.750001 0Z" fill="white"/></svg>`,
      route: "/event/profile",
      action: () => this.navigateTo("profile"),
    },
    {
      label: "Event Analytics",
      icon: `<svg width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg"><path opacity="0.4" fill-rule="evenodd" clip-rule="evenodd" d="M0.750001 0C0.335787 -5.96046e-08 8.19241e-07 0.335786 7.59636e-07 0.75C7.00032e-07 1.16421 0.335787 1.5 0.750001 1.5L8.08333 1.5C8.49755 1.5 8.83333 1.16421 8.83333 0.750001C8.83333 0.335787 8.49755 7.15256e-07 8.08333 7.15256e-07L0.750001 0Z" fill="white"/></svg>`,
      route: "/event/analytics",
      action: () => this.navigateTo("analytics"),
    },
    {
      label: "Event Theme",
      icon: `<svg width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg"><path opacity="0.4" fill-rule="evenodd" clip-rule="evenodd" d="M0.750001 0C0.335787 -5.96046e-08 8.19241e-07 0.335786 7.59636e-07 0.75C7.00032e-07 1.16421 0.335787 1.5 0.750001 1.5L8.08333 1.5C8.49755 1.5 8.83333 1.16421 8.83333 0.750001C8.83333 0.335787 8.49755 7.15256e-07 8.08333 7.15256e-07L0.750001 0Z" fill="white"/></svg>`,
      route: "/event/theme",
      action: () => this.navigateTo("theme"),
    },
  ];

  constructor(
    private router: Router,
    private route: ActivatedRoute,
  ) {}

  ngOnInit() {
    this.route.queryParams.subscribe((params) => {
      if (params["eventName"]) {
        this.eventName = params["eventName"];
      }
    });

    this.updateActiveRoute();

    this.router.events
      .pipe(filter((event) => event instanceof NavigationEnd))
      .subscribe(() => {
        this.updateActiveRoute();
      });
  }

  updateActiveRoute() {
    const url = this.router.url;
    if (url.includes("/dashboard")) {
      this.activeRoute = "/event/dashboard";
    } else if (url.includes("/setup")) {
      this.activeRoute = "/event/setup";
    } else if (url.includes("/overview")) {
      this.activeRoute = "/event/overview";
    } else if (url.includes("/notification")) {
      this.activeRoute = "/event/notification";
    } else if (url.includes("/profile")) {
      this.activeRoute = "/event/profile";
    } else if (url.includes("/analytics")) {
      this.activeRoute = "/event/analytics";
    } else if (url.includes("/theme")) {
      this.activeRoute = "/event/theme";
    }
  }

  navigateTo(page: string) {
    const eventId = this.route.snapshot.paramMap.get("id");
    switch (page) {
      case "dashboard":
        this.activeRoute = "/event/dashboard";
        this.router.navigate([`/event/${eventId}/dashboard`]);
        break;
      case "overview":
        this.activeRoute = "/event/overview";
        this.router.navigate([`/event/${eventId}/overview`]);
        break;
      case "setup":
        this.activeRoute = "/event/setup";
        break;
      case "notification":
        this.activeRoute = "/event/notification";
        break;
      case "profile":
        this.activeRoute = "/event/profile";
        break;
      case "analytics":
        this.activeRoute = "/event/analytics";
        break;
      case "theme":
        this.activeRoute = "/event/theme";
        break;
    }
  }

  onBackToDashboard() {
    this.router.navigate(["/dashboard"]);
  }

  onLogout() {
    this.router.navigate(["/"]);
  }

  onLogoChange(event: Event) {
    const input = event.target as HTMLInputElement;
    if (input.files && input.files[0]) {
      const file = input.files[0];
      this.formData.logo = file;

      const reader = new FileReader();
      reader.onload = (e) => {
        this.logoPreview = e.target?.result as string;
      };
      reader.readAsDataURL(file);
    }
  }

  onBannerChange(event: Event) {
    const input = event.target as HTMLInputElement;
    if (input.files && input.files[0]) {
      const file = input.files[0];
      this.formData.banner = file;

      const reader = new FileReader();
      reader.onload = (e) => {
        this.bannerPreview = e.target?.result as string;
      };
      reader.readAsDataURL(file);
    }
  }

  onNext() {
    if (this.currentTab === "details") {
      this.currentTab = "features";
    } else if (this.currentTab === "features") {
      this.currentTab = "content";
    } else {
      console.log("Form submitted:", this.formData);
    }
  }

  onBack() {
    if (this.currentTab === "features") {
      this.currentTab = "details";
    } else if (this.currentTab === "content") {
      this.currentTab = "features";
    }
  }

  toggleFeature(featureId: string) {
    const index = this.activeFeatures.indexOf(featureId);
    if (index > -1) {
      this.activeFeatures.splice(index, 1);
    } else {
      this.activeFeatures.push(featureId);
    }
  }

  isFeatureActive(featureId: string): boolean {
    return this.activeFeatures.includes(featureId);
  }

  getFeatureLabel(featureId: string): string {
    if (featureId === "schedule") {
      return "Schedule";
    }
    const feature = this.inactiveFeatures.find((f) => f.id === featureId);
    return feature ? feature.label : "";
  }

  onDragStartFeature(event: DragEvent, featureId: string) {
    this.draggedFeatureId = featureId;
    if (event.dataTransfer) {
      event.dataTransfer.effectAllowed = "move";
      event.dataTransfer.setData("featureId", featureId);
    }
  }

  onDragEndFeature(event: DragEvent) {
    this.draggedFeatureId = null;
  }

  onDragOverSelected(event: DragEvent) {
    event.preventDefault();
    if (event.dataTransfer) {
      event.dataTransfer.dropEffect = "move";
    }
    this.isDragOverSelected = true;
  }

  onDragLeaveSelected(event: DragEvent) {
    const target = event.currentTarget as HTMLElement;
    if (event.relatedTarget === null || !target.contains(event.relatedTarget as Node)) {
      this.isDragOverSelected = false;
    }
  }

  onDropSelected(event: DragEvent) {
    event.preventDefault();
    event.stopPropagation();
    this.isDragOverSelected = false;

    if (event.dataTransfer) {
      const featureId = event.dataTransfer.getData("featureId");
      if (featureId && !this.activeFeatures.includes(featureId)) {
        this.activeFeatures.push(featureId);
      }
    }
  }

  onDragStart(event: DragEvent, featureId: string) {
    this.draggedFeatureId = featureId;
    if (event.dataTransfer) {
      event.dataTransfer.effectAllowed = "move";
      event.dataTransfer.setData("featureId", featureId);
    }
  }

  onDragEnd(event: DragEvent) {
    this.draggedFeatureId = null;
  }

  onDragOver(event: DragEvent) {
    event.preventDefault();
    if (event.dataTransfer) {
      event.dataTransfer.dropEffect = "move";
    }
  }

  onDragLeave(event: DragEvent) {
  }

  onDrop(event: DragEvent) {
    event.preventDefault();
    event.stopPropagation();
  }
}
